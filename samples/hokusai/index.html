<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
  <meta charset="utf-8">
  <title>FunScript - Hokusai - Using HTML5 canvas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="
    FunScript consists of a standalone F# to JavaScript compiler library and a Type Provider to TypeScript.       
    FunScript lets you connect to client and server APIs with Intellisense and types automagically using
    F# 3's Type Provider mechanism.">
  <meta name="author" content="Zach Bray">

  <!-- Reference Foundation -->
  <link rel="stylesheet" href="http://funscript.info/css/foundation.css" />
  <script src="http://funscript.info/js/vendor/custom.modernizr.js"></script>

  <!-- Reference custom CSS and tooltips -->
  <link type="text/css" rel="stylesheet" href="http://funscript.info/custom/style.css" />
  <script src="http://funscript.info/custom/tooltips.js" type="text/javascript"></script>
  <link type="text/css" rel="stylesheet" href="http://funscript.info/custom/tooltips.css" />
</head>
<body>

  <!-- Header bar with name and navigation links -->
  <nav class="top-bar">
    <ul class="title-area">
      <li class="name"><h1><a href="http://funscript.info">FunScript</a></h1></li>
      <li class="toggle-topbar"><a href="#"><span>Menu</span></a></li>
    </ul>

    <section class="top-bar-section">
      <ul class="left">
        <li><a href="http://funscript.info/index.html">home</a></li>
        <li><a href="http://funscript.info/learn.html">learn more</a></li>
        <li><a href="http://funscript.info/get.html">get started</a></li>
        <li><a href="http://funscript.info/contribute.html">contribute</a></li>
      </ul>
    </section>
  </nav>

  <header>
    <div class="row">
      <div class="twelve columns">
        <h1>Hokusai</h1>
        <h3>Using HTML5 canvas</h3>
      </div>
    </div>
  </header>

  <!-- Some more Foundation references (always load jQuery, because samples use it) -->
  <script src="http://funscript.info/js/vendor/jquery.js"></script>
  <script src="http://funscript.info/js/foundation.min.js"></script>  
  <script src="http://funscript.info/js/foundation/foundation.reveal.js"></script>
  <script>
    $(document).foundation();
  </script>
  
  <!-- Some references the samples might need. TODO: Import these ,e.g., {sample-scripts}. -->
  <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
  <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
  <script src="http://code.highcharts.com/highcharts.js"></script>
  
  <!-- Foundation dialog that appears when "Open Sample"  is clicked -->
  <div id="sampleDialog" class="reveal-modal medium" style="">
    <h2>Hokusai and Julia set fractals</h2>
    
        <img src="hokusai.jpg" style="border:5px solid black" />
        <canvas id="canvas" width="400" height="300" style="border:5px solid black"></canvas>
        <br />
        <input type="button" id="go" value="Render" style="font-family:Kreon; font-size:120%; border:3px solid black;background:#F0E5D1;padding:7px 15px 7px 15px;margin-top:30px;" />
        
    <a class="close-reveal-modal">&#215;</a>
  </div>

	<div class="row">
    <div class="large-9 columns">
      <table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[&lt;<span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">ReflectedDefinition</span>&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Program</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">FunScript</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">FunScript</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="i">TypeScript</span></pre>
</td>
</tr>
</table><h2>Complex numbers</h2>

<p>Simple implementation of complex numbers for JavaScript.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="i">Complex</span> <span class="o">=</span> 
  | <span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="i">Complex</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="i">float</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs7', 10)" onmouseover="showTip(event, 'fs7', 10)" class="i">float</span>
  <span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs8', 11)" onmouseover="showTip(event, 'fs8', 11)" class="i">Abs</span>(<span onmouseout="hideTip(event, 'fs6', 12)" onmouseover="showTip(event, 'fs6', 12)" class="i">Complex</span>(<span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="i">r</span>, <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="i">i</span>)) <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="i">num</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 17)" onmouseover="showTip(event, 'fs13', 17)" class="i">Abs</span>(<span onmouseout="hideTip(event, 'fs9', 18)" onmouseover="showTip(event, 'fs9', 18)" class="i">r</span>)
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 19)" onmouseover="showTip(event, 'fs14', 19)" class="i">num2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 20)" onmouseover="showTip(event, 'fs12', 20)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 21)" onmouseover="showTip(event, 'fs13', 21)" class="i">Abs</span>(<span onmouseout="hideTip(event, 'fs10', 22)" onmouseover="showTip(event, 'fs10', 22)" class="i">i</span>)
    <span class="k">if</span> (<span onmouseout="hideTip(event, 'fs11', 23)" onmouseover="showTip(event, 'fs11', 23)" class="i">num</span> <span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs14', 24)" onmouseover="showTip(event, 'fs14', 24)" class="i">num2</span>) <span class="k">then</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 25)" onmouseover="showTip(event, 'fs15', 25)" class="i">num3</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 26)" onmouseover="showTip(event, 'fs14', 26)" class="i">num2</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs11', 27)" onmouseover="showTip(event, 'fs11', 27)" class="i">num</span>
      <span onmouseout="hideTip(event, 'fs11', 28)" onmouseover="showTip(event, 'fs11', 28)" class="i">num</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs12', 29)" onmouseover="showTip(event, 'fs12', 29)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 30)" onmouseover="showTip(event, 'fs16', 30)" class="i">Sqrt</span>(<span class="n">1.0</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs15', 31)" onmouseover="showTip(event, 'fs15', 31)" class="i">num3</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs15', 32)" onmouseover="showTip(event, 'fs15', 32)" class="i">num3</span>)
    <span class="k">elif</span> <span onmouseout="hideTip(event, 'fs14', 33)" onmouseover="showTip(event, 'fs14', 33)" class="i">num2</span> <span class="o">=</span> <span class="n">0.0</span> <span class="k">then</span>
      <span onmouseout="hideTip(event, 'fs11', 34)" onmouseover="showTip(event, 'fs11', 34)" class="i">num</span>
    <span class="k">else</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 35)" onmouseover="showTip(event, 'fs17', 35)" class="i">num4</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 36)" onmouseover="showTip(event, 'fs11', 36)" class="i">num</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs14', 37)" onmouseover="showTip(event, 'fs14', 37)" class="i">num2</span>
      <span onmouseout="hideTip(event, 'fs14', 38)" onmouseover="showTip(event, 'fs14', 38)" class="i">num2</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs12', 39)" onmouseover="showTip(event, 'fs12', 39)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 40)" onmouseover="showTip(event, 'fs16', 40)" class="i">Sqrt</span>(<span class="n">1.0</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs17', 41)" onmouseover="showTip(event, 'fs17', 41)" class="i">num4</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs17', 42)" onmouseover="showTip(event, 'fs17', 42)" class="i">num4</span>)    
  <span class="k">static</span> <span class="k">member</span> (<span class="o">+</span>) (<span onmouseout="hideTip(event, 'fs6', 43)" onmouseover="showTip(event, 'fs6', 43)" class="i">Complex</span>(<span onmouseout="hideTip(event, 'fs18', 44)" onmouseover="showTip(event, 'fs18', 44)" class="i">r1</span>, <span onmouseout="hideTip(event, 'fs19', 45)" onmouseover="showTip(event, 'fs19', 45)" class="i">i1</span>), <span onmouseout="hideTip(event, 'fs6', 46)" onmouseover="showTip(event, 'fs6', 46)" class="i">Complex</span>(<span onmouseout="hideTip(event, 'fs20', 47)" onmouseover="showTip(event, 'fs20', 47)" class="i">r2</span>, <span onmouseout="hideTip(event, 'fs21', 48)" onmouseover="showTip(event, 'fs21', 48)" class="i">i2</span>)) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs6', 49)" onmouseover="showTip(event, 'fs6', 49)" class="i">Complex</span>(<span class="i">r1</span><span class="o">+</span><span class="i">r2</span>, <span class="i">i1</span><span class="o">+</span><span class="i">i2</span>)

<span class="k">module</span> <span class="i">ComplexModule</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 50)" onmouseover="showTip(event, 'fs22', 50)" class="i">Pow</span>(<span onmouseout="hideTip(event, 'fs6', 51)" onmouseover="showTip(event, 'fs6', 51)" class="i">Complex</span>(<span onmouseout="hideTip(event, 'fs9', 52)" onmouseover="showTip(event, 'fs9', 52)" class="i">r</span>, <span onmouseout="hideTip(event, 'fs10', 53)" onmouseover="showTip(event, 'fs10', 53)" class="i">i</span>), <span onmouseout="hideTip(event, 'fs23', 54)" onmouseover="showTip(event, 'fs23', 54)" class="i">power</span>) <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs11', 55)" onmouseover="showTip(event, 'fs11', 55)" class="i">num</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 56)" onmouseover="showTip(event, 'fs6', 56)" class="i">Complex</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 57)" onmouseover="showTip(event, 'fs24', 57)" class="i">Abs</span>(<span onmouseout="hideTip(event, 'fs6', 58)" onmouseover="showTip(event, 'fs6', 58)" class="i">Complex</span>(<span onmouseout="hideTip(event, 'fs9', 59)" onmouseover="showTip(event, 'fs9', 59)" class="i">r</span>, <span onmouseout="hideTip(event, 'fs10', 60)" onmouseover="showTip(event, 'fs10', 60)" class="i">i</span>))
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 61)" onmouseover="showTip(event, 'fs14', 61)" class="i">num2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 62)" onmouseover="showTip(event, 'fs12', 62)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 63)" onmouseover="showTip(event, 'fs25', 63)" class="i">Atan2</span>(<span onmouseout="hideTip(event, 'fs10', 64)" onmouseover="showTip(event, 'fs10', 64)" class="i">i</span>, <span onmouseout="hideTip(event, 'fs9', 65)" onmouseover="showTip(event, 'fs9', 65)" class="i">r</span>)
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 66)" onmouseover="showTip(event, 'fs15', 66)" class="i">num3</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs23', 67)" onmouseover="showTip(event, 'fs23', 67)" class="i">power</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs14', 68)" onmouseover="showTip(event, 'fs14', 68)" class="i">num2</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 69)" onmouseover="showTip(event, 'fs17', 69)" class="i">num4</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 70)" onmouseover="showTip(event, 'fs12', 70)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 71)" onmouseover="showTip(event, 'fs26', 71)" class="i">Pow</span>(<span onmouseout="hideTip(event, 'fs11', 72)" onmouseover="showTip(event, 'fs11', 72)" class="i">num</span>, <span onmouseout="hideTip(event, 'fs23', 73)" onmouseover="showTip(event, 'fs23', 73)" class="i">power</span>)
    <span onmouseout="hideTip(event, 'fs6', 74)" onmouseover="showTip(event, 'fs6', 74)" class="i">Complex</span>(<span onmouseout="hideTip(event, 'fs17', 75)" onmouseover="showTip(event, 'fs17', 75)" class="i">num4</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs12', 76)" onmouseover="showTip(event, 'fs12', 76)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 77)" onmouseover="showTip(event, 'fs27', 77)" class="i">Cos</span>(<span onmouseout="hideTip(event, 'fs15', 78)" onmouseover="showTip(event, 'fs15', 78)" class="i">num3</span>), <span onmouseout="hideTip(event, 'fs17', 79)" onmouseover="showTip(event, 'fs17', 79)" class="i">num4</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs12', 80)" onmouseover="showTip(event, 'fs12', 80)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 81)" onmouseover="showTip(event, 'fs28', 81)" class="i">Sin</span>(<span onmouseout="hideTip(event, 'fs15', 82)" onmouseover="showTip(event, 'fs15', 82)" class="i">num3</span>))</pre>
</td>
</tr>
</table><h2>Calculating the Julia set</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">/// Constant that generates nice fractal</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 83)" onmouseover="showTip(event, 'fs29', 83)" class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 84)" onmouseover="showTip(event, 'fs6', 84)" class="i">Complex</span>(<span class="o">-</span><span class="n">0.70176</span>, <span class="o">-</span><span class="n">0.3842</span>)

<span class="c">/// Generates sequence for given coordinates</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 85)" onmouseover="showTip(event, 'fs30', 85)" class="i">iterate</span> <span onmouseout="hideTip(event, 'fs31', 86)" onmouseover="showTip(event, 'fs31', 86)" class="i">x</span> <span onmouseout="hideTip(event, 'fs32', 87)" onmouseover="showTip(event, 'fs32', 87)" class="i">y</span> <span class="o">=</span>
  <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs33', 88)" onmouseover="showTip(event, 'fs33', 88)" class="i">loop</span> <span onmouseout="hideTip(event, 'fs34', 89)" onmouseover="showTip(event, 'fs34', 89)" class="i">current</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 90)" onmouseover="showTip(event, 'fs35', 90)" class="i">seq</span> { 
    <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs34', 91)" onmouseover="showTip(event, 'fs34', 91)" class="i">current</span>
    <span class="k">yield!</span> <span onmouseout="hideTip(event, 'fs33', 92)" onmouseover="showTip(event, 'fs33', 92)" class="i">loop</span> (<span onmouseout="hideTip(event, 'fs36', 93)" onmouseover="showTip(event, 'fs36', 93)" class="i">ComplexModule</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 94)" onmouseover="showTip(event, 'fs22', 94)" class="i">Pow</span>(<span onmouseout="hideTip(event, 'fs34', 95)" onmouseover="showTip(event, 'fs34', 95)" class="i">current</span>, <span class="n">2.0</span>) <span class="o">+</span> <span onmouseout="hideTip(event, 'fs29', 96)" onmouseover="showTip(event, 'fs29', 96)" class="i">c</span>) }
  <span onmouseout="hideTip(event, 'fs33', 97)" onmouseover="showTip(event, 'fs33', 97)" class="i">loop</span> (<span onmouseout="hideTip(event, 'fs6', 98)" onmouseover="showTip(event, 'fs6', 98)" class="i">Complex</span>(<span onmouseout="hideTip(event, 'fs31', 99)" onmouseover="showTip(event, 'fs31', 99)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs32', 100)" onmouseover="showTip(event, 'fs32', 100)" class="i">y</span>))

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 101)" onmouseover="showTip(event, 'fs37', 101)" class="i">countIterations</span> <span onmouseout="hideTip(event, 'fs38', 102)" onmouseover="showTip(event, 'fs38', 102)" class="i">max</span> <span onmouseout="hideTip(event, 'fs31', 103)" onmouseover="showTip(event, 'fs31', 103)" class="i">x</span> <span onmouseout="hideTip(event, 'fs32', 104)" onmouseover="showTip(event, 'fs32', 104)" class="i">y</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs30', 105)" onmouseover="showTip(event, 'fs30', 105)" class="i">iterate</span> <span onmouseout="hideTip(event, 'fs31', 106)" onmouseover="showTip(event, 'fs31', 106)" class="i">x</span> <span onmouseout="hideTip(event, 'fs32', 107)" onmouseover="showTip(event, 'fs32', 107)" class="i">y</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 108)" onmouseover="showTip(event, 'fs39', 108)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs40', 109)" onmouseover="showTip(event, 'fs40', 109)" class="i">take</span> (<span onmouseout="hideTip(event, 'fs38', 110)" onmouseover="showTip(event, 'fs38', 110)" class="i">max</span> <span class="o">-</span> <span class="n">1</span>)
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 111)" onmouseover="showTip(event, 'fs39', 111)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 112)" onmouseover="showTip(event, 'fs41', 112)" class="i">takeWhile</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs42', 113)" onmouseover="showTip(event, 'fs42', 113)" class="i">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs6', 114)" onmouseover="showTip(event, 'fs6', 114)" class="i">Complex</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 115)" onmouseover="showTip(event, 'fs24', 115)" class="i">Abs</span>(<span onmouseout="hideTip(event, 'fs42', 116)" onmouseover="showTip(event, 'fs42', 116)" class="i">v</span>) <span class="o">&lt;</span> <span class="n">2.0</span>)
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 117)" onmouseover="showTip(event, 'fs39', 117)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 118)" onmouseover="showTip(event, 'fs43', 118)" class="i">length</span></pre>
</td>
</tr>
</table><h2>Generating the color palette</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Transition between colors in &#39;count&#39; steps</span>
<span class="k">let</span> (<span class="o">--</span>) <span onmouseout="hideTip(event, 'fs44', 119)" onmouseover="showTip(event, 'fs44', 119)" class="i">clr</span> <span onmouseout="hideTip(event, 'fs45', 120)" onmouseover="showTip(event, 'fs45', 120)" class="i">count</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 121)" onmouseover="showTip(event, 'fs44', 121)" class="i">clr</span>, <span onmouseout="hideTip(event, 'fs45', 122)" onmouseover="showTip(event, 'fs45', 122)" class="i">count</span>
<span class="k">let</span> (<span class="o">--&gt;</span>) ((<span onmouseout="hideTip(event, 'fs46', 123)" onmouseover="showTip(event, 'fs46', 123)" class="i">r1</span>,<span onmouseout="hideTip(event, 'fs47', 124)" onmouseover="showTip(event, 'fs47', 124)" class="i">g1</span>,<span onmouseout="hideTip(event, 'fs48', 125)" onmouseover="showTip(event, 'fs48', 125)" class="i">b1</span>), <span onmouseout="hideTip(event, 'fs49', 126)" onmouseover="showTip(event, 'fs49', 126)" class="i">count</span>) (<span onmouseout="hideTip(event, 'fs50', 127)" onmouseover="showTip(event, 'fs50', 127)" class="i">r2</span>,<span onmouseout="hideTip(event, 'fs51', 128)" onmouseover="showTip(event, 'fs51', 128)" class="i">g2</span>,<span onmouseout="hideTip(event, 'fs52', 129)" onmouseover="showTip(event, 'fs52', 129)" class="i">b2</span>) <span class="o">=</span> [
  <span class="k">for</span> <span onmouseout="hideTip(event, 'fs53', 130)" onmouseover="showTip(event, 'fs53', 130)" class="i">c</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span onmouseout="hideTip(event, 'fs49', 131)" onmouseover="showTip(event, 'fs49', 131)" class="i">count</span> <span class="o">-</span> <span class="n">1</span> <span class="k">-&gt;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 132)" onmouseover="showTip(event, 'fs54', 132)" class="i">k</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 133)" onmouseover="showTip(event, 'fs7', 133)" class="i">float</span> <span onmouseout="hideTip(event, 'fs53', 134)" onmouseover="showTip(event, 'fs53', 134)" class="i">c</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs7', 135)" onmouseover="showTip(event, 'fs7', 135)" class="i">float</span> <span onmouseout="hideTip(event, 'fs49', 136)" onmouseover="showTip(event, 'fs49', 136)" class="i">count</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 137)" onmouseover="showTip(event, 'fs55', 137)" class="i">mid</span> <span onmouseout="hideTip(event, 'fs56', 138)" onmouseover="showTip(event, 'fs56', 138)" class="i">v1</span> <span onmouseout="hideTip(event, 'fs57', 139)" onmouseover="showTip(event, 'fs57', 139)" class="i">v2</span> <span class="o">=</span> 
      (<span onmouseout="hideTip(event, 'fs7', 140)" onmouseover="showTip(event, 'fs7', 140)" class="i">float</span> <span onmouseout="hideTip(event, 'fs56', 141)" onmouseover="showTip(event, 'fs56', 141)" class="i">v1</span> <span class="o">+</span> ((<span onmouseout="hideTip(event, 'fs7', 142)" onmouseover="showTip(event, 'fs7', 142)" class="i">float</span> <span onmouseout="hideTip(event, 'fs57', 143)" onmouseover="showTip(event, 'fs57', 143)" class="i">v2</span>) <span class="o">-</span> (<span onmouseout="hideTip(event, 'fs7', 144)" onmouseover="showTip(event, 'fs7', 144)" class="i">float</span> <span onmouseout="hideTip(event, 'fs56', 145)" onmouseover="showTip(event, 'fs56', 145)" class="i">v1</span>)) <span class="o">*</span> <span onmouseout="hideTip(event, 'fs54', 146)" onmouseover="showTip(event, 'fs54', 146)" class="i">k</span>) 
    (<span onmouseout="hideTip(event, 'fs55', 147)" onmouseover="showTip(event, 'fs55', 147)" class="i">mid</span> <span onmouseout="hideTip(event, 'fs46', 148)" onmouseover="showTip(event, 'fs46', 148)" class="i">r1</span> <span onmouseout="hideTip(event, 'fs50', 149)" onmouseover="showTip(event, 'fs50', 149)" class="i">r2</span>, <span onmouseout="hideTip(event, 'fs55', 150)" onmouseover="showTip(event, 'fs55', 150)" class="i">mid</span> <span onmouseout="hideTip(event, 'fs47', 151)" onmouseover="showTip(event, 'fs47', 151)" class="i">g1</span> <span onmouseout="hideTip(event, 'fs51', 152)" onmouseover="showTip(event, 'fs51', 152)" class="i">g2</span>, <span onmouseout="hideTip(event, 'fs55', 153)" onmouseover="showTip(event, 'fs55', 153)" class="i">mid</span> <span onmouseout="hideTip(event, 'fs48', 154)" onmouseover="showTip(event, 'fs48', 154)" class="i">b1</span> <span onmouseout="hideTip(event, 'fs52', 155)" onmouseover="showTip(event, 'fs52', 155)" class="i">b2</span>) ]

<span class="c">// Palette with colors used by Hokusai</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs58', 156)" onmouseover="showTip(event, 'fs58', 156)" class="i">palette</span> <span class="o">=</span> 
  [| <span class="c">// 3x sky color &amp; transition to light blue</span>
     <span class="k">yield!</span> (<span class="n">245</span>,<span class="n">219</span>,<span class="n">184</span>) <span class="o">--</span><span class="n">3</span><span class="o">--&gt;</span> (<span class="n">245</span>,<span class="n">219</span>,<span class="n">184</span>) 
     <span class="k">yield!</span> (<span class="n">245</span>,<span class="n">219</span>,<span class="n">184</span>) <span class="o">--</span><span class="n">4</span><span class="o">--&gt;</span> (<span class="n">138</span>,<span class="n">173</span>,<span class="n">179</span>)
     <span class="c">// to dark blue and then medium dark blue</span>
     <span class="k">yield!</span> (<span class="n">138</span>,<span class="n">173</span>,<span class="n">179</span>) <span class="o">--</span><span class="n">4</span><span class="o">--&gt;</span> (<span class="n">2</span>,<span class="n">12</span>,<span class="n">74</span>)
     <span class="k">yield!</span> (<span class="n">2</span>,<span class="n">12</span>,<span class="n">74</span>)     <span class="o">--</span><span class="n">4</span><span class="o">--&gt;</span> (<span class="n">61</span>,<span class="n">102</span>,<span class="n">130</span>)
     <span class="c">// to wave color, then light blue &amp; back to wave</span>
     <span class="k">yield!</span> (<span class="n">61</span>,<span class="n">102</span>,<span class="n">130</span>)  <span class="o">--</span> <span class="n">8</span><span class="o">--&gt;</span> (<span class="n">249</span>,<span class="n">243</span>,<span class="n">221</span>) 
     <span class="k">yield!</span> (<span class="n">249</span>,<span class="n">243</span>,<span class="n">221</span>) <span class="o">--</span><span class="n">32</span><span class="o">--&gt;</span> (<span class="n">138</span>,<span class="n">173</span>,<span class="n">179</span>) 
     <span class="k">yield!</span> (<span class="n">138</span>,<span class="n">173</span>,<span class="n">179</span>) <span class="o">--</span><span class="n">32</span><span class="o">--&gt;</span> (<span class="n">61</span>,<span class="n">102</span>,<span class="n">130</span>) |]</pre>
</td>
</tr>
</table><h2>Drawing the fractal</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Specifies what range of the set to draw</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 157)" onmouseover="showTip(event, 'fs59', 157)" class="i">w</span> <span class="o">=</span> <span class="o">-</span><span class="n">0.4</span>, <span class="n">0.4</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs60', 158)" onmouseover="showTip(event, 'fs60', 158)" class="i">h</span> <span class="o">=</span> <span class="o">-</span><span class="n">0.95</span>, <span class="o">-</span><span class="n">0.35</span>

<span class="c">// Create bitmap that matches the size of the canvas</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 159)" onmouseover="showTip(event, 'fs61', 159)" class="i">width</span> <span class="o">=</span> <span class="n">400.0</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 160)" onmouseover="showTip(event, 'fs62', 160)" class="i">height</span> <span class="o">=</span> <span class="n">300.0</span>

<span class="c">/// Set pixel value in ImageData to a given color</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 161)" onmouseover="showTip(event, 'fs63', 161)" class="i">setPixel</span> (<span onmouseout="hideTip(event, 'fs64', 162)" onmouseover="showTip(event, 'fs64', 162)" class="i">img</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs65', 163)" onmouseover="showTip(event, 'fs65', 163)" class="i">ImageData</span>) <span onmouseout="hideTip(event, 'fs66', 164)" onmouseover="showTip(event, 'fs66', 164)" class="i">x</span> <span onmouseout="hideTip(event, 'fs67', 165)" onmouseover="showTip(event, 'fs67', 165)" class="i">y</span> <span onmouseout="hideTip(event, 'fs68', 166)" onmouseover="showTip(event, 'fs68', 166)" class="i">width</span> (<span onmouseout="hideTip(event, 'fs9', 167)" onmouseover="showTip(event, 'fs9', 167)" class="i">r</span>, <span onmouseout="hideTip(event, 'fs69', 168)" onmouseover="showTip(event, 'fs69', 168)" class="i">g</span>, <span onmouseout="hideTip(event, 'fs70', 169)" onmouseover="showTip(event, 'fs70', 169)" class="i">b</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 170)" onmouseover="showTip(event, 'fs71', 170)" class="i">index</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs66', 171)" onmouseover="showTip(event, 'fs66', 171)" class="i">x</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs67', 172)" onmouseover="showTip(event, 'fs67', 172)" class="i">y</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs72', 173)" onmouseover="showTip(event, 'fs72', 173)" class="i">int</span> <span onmouseout="hideTip(event, 'fs68', 174)" onmouseover="showTip(event, 'fs68', 174)" class="i">width</span>) <span class="o">*</span> <span class="n">4</span>
  <span onmouseout="hideTip(event, 'fs64', 175)" onmouseover="showTip(event, 'fs64', 175)" class="i">img</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 176)" onmouseover="showTip(event, 'fs73', 176)" class="i">data</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs71', 177)" onmouseover="showTip(event, 'fs71', 177)" class="i">index</span><span class="o">+</span><span class="n">0</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs9', 178)" onmouseover="showTip(event, 'fs9', 178)" class="i">r</span>
  <span onmouseout="hideTip(event, 'fs64', 179)" onmouseover="showTip(event, 'fs64', 179)" class="i">img</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 180)" onmouseover="showTip(event, 'fs73', 180)" class="i">data</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs71', 181)" onmouseover="showTip(event, 'fs71', 181)" class="i">index</span><span class="o">+</span><span class="n">1</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs69', 182)" onmouseover="showTip(event, 'fs69', 182)" class="i">g</span>
  <span onmouseout="hideTip(event, 'fs64', 183)" onmouseover="showTip(event, 'fs64', 183)" class="i">img</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 184)" onmouseover="showTip(event, 'fs73', 184)" class="i">data</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs71', 185)" onmouseover="showTip(event, 'fs71', 185)" class="i">index</span><span class="o">+</span><span class="n">2</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs70', 186)" onmouseover="showTip(event, 'fs70', 186)" class="i">b</span>
  <span onmouseout="hideTip(event, 'fs64', 187)" onmouseover="showTip(event, 'fs64', 187)" class="i">img</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 188)" onmouseover="showTip(event, 'fs73', 188)" class="i">data</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs71', 189)" onmouseover="showTip(event, 'fs71', 189)" class="i">index</span><span class="o">+</span><span class="n">3</span>] <span class="o">&lt;-</span> <span class="n">255.0</span>

<span class="c">/// Dynamic operator that returns HTML element by ID</span>
<span class="k">let</span> (<span class="o">?</span>) (<span onmouseout="hideTip(event, 'fs74', 190)" onmouseover="showTip(event, 'fs74', 190)" class="i">doc</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs75', 191)" onmouseover="showTip(event, 'fs75', 191)" class="i">Document</span>) <span onmouseout="hideTip(event, 'fs76', 192)" onmouseover="showTip(event, 'fs76', 192)" class="i">name</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">R</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs74', 193)" onmouseover="showTip(event, 'fs74', 193)" class="i">doc</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs77', 194)" onmouseover="showTip(event, 'fs77', 194)" class="i">getElementById</span>(<span onmouseout="hideTip(event, 'fs76', 195)" onmouseover="showTip(event, 'fs76', 195)" class="i">name</span>) <span class="o">:?&gt;</span> <span class="o">&#39;</span><span class="i">R</span>

<span class="c">/// Render fractal asynchronously with sleep after every line</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs78', 196)" onmouseover="showTip(event, 'fs78', 196)" class="i">render</span> () <span class="o">=</span> <span onmouseout="hideTip(event, 'fs79', 197)" onmouseover="showTip(event, 'fs79', 197)" class="i">async</span> {
  <span class="c">// Get &lt;canvas&gt; element &amp; create image for drawing</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs80', 198)" onmouseover="showTip(event, 'fs80', 198)" class="i">canv</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs81', 199)" onmouseover="showTip(event, 'fs81', 199)" class="i">HTMLCanvasElement</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs82', 200)" onmouseover="showTip(event, 'fs82', 200)" class="i">Globals</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 201)" onmouseover="showTip(event, 'fs83', 201)" class="i">document</span><span class="o">?</span><span class="i">canvas</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 202)" onmouseover="showTip(event, 'fs84', 202)" class="i">ctx</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs80', 203)" onmouseover="showTip(event, 'fs80', 203)" class="i">canv</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 204)" onmouseover="showTip(event, 'fs85', 204)" class="i">getContext_2d</span>()
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 205)" onmouseover="showTip(event, 'fs64', 205)" class="i">img</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs84', 206)" onmouseover="showTip(event, 'fs84', 206)" class="i">ctx</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 207)" onmouseover="showTip(event, 'fs86', 207)" class="i">createImageData</span>(<span onmouseout="hideTip(event, 'fs7', 208)" onmouseover="showTip(event, 'fs7', 208)" class="i">float</span> <span onmouseout="hideTip(event, 'fs61', 209)" onmouseover="showTip(event, 'fs61', 209)" class="i">width</span>, <span onmouseout="hideTip(event, 'fs7', 210)" onmouseover="showTip(event, 'fs7', 210)" class="i">float</span> <span onmouseout="hideTip(event, 'fs62', 211)" onmouseover="showTip(event, 'fs62', 211)" class="i">height</span>)
    
  <span class="c">// For each pixel, transform to the specified range</span>
  <span class="c">// and get color using countInterations and palette</span>
  <span class="k">for</span> <span onmouseout="hideTip(event, 'fs66', 212)" onmouseover="showTip(event, 'fs66', 212)" class="i">x</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span onmouseout="hideTip(event, 'fs72', 213)" onmouseover="showTip(event, 'fs72', 213)" class="i">int</span> <span onmouseout="hideTip(event, 'fs61', 214)" onmouseover="showTip(event, 'fs61', 214)" class="i">width</span> <span class="o">-</span> <span class="n">1</span> <span class="k">do</span>
    <span class="k">for</span> <span onmouseout="hideTip(event, 'fs67', 215)" onmouseover="showTip(event, 'fs67', 215)" class="i">y</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span onmouseout="hideTip(event, 'fs72', 216)" onmouseover="showTip(event, 'fs72', 216)" class="i">int</span> <span onmouseout="hideTip(event, 'fs62', 217)" onmouseover="showTip(event, 'fs62', 217)" class="i">height</span> <span class="o">-</span> <span class="n">1</span> <span class="k">do</span> 
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs87', 218)" onmouseover="showTip(event, 'fs87', 218)" class="i">x&#39;</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs7', 219)" onmouseover="showTip(event, 'fs7', 219)" class="i">float</span> <span onmouseout="hideTip(event, 'fs66', 220)" onmouseover="showTip(event, 'fs66', 220)" class="i">x</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs61', 221)" onmouseover="showTip(event, 'fs61', 221)" class="i">width</span> <span class="o">*</span> (<span onmouseout="hideTip(event, 'fs88', 222)" onmouseover="showTip(event, 'fs88', 222)" class="i">snd</span> <span onmouseout="hideTip(event, 'fs59', 223)" onmouseover="showTip(event, 'fs59', 223)" class="i">w</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs89', 224)" onmouseover="showTip(event, 'fs89', 224)" class="i">fst</span> <span onmouseout="hideTip(event, 'fs59', 225)" onmouseover="showTip(event, 'fs59', 225)" class="i">w</span>)) <span class="o">+</span> <span onmouseout="hideTip(event, 'fs89', 226)" onmouseover="showTip(event, 'fs89', 226)" class="i">fst</span> <span onmouseout="hideTip(event, 'fs59', 227)" onmouseover="showTip(event, 'fs59', 227)" class="i">w</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 228)" onmouseover="showTip(event, 'fs90', 228)" class="i">y&#39;</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs7', 229)" onmouseover="showTip(event, 'fs7', 229)" class="i">float</span> <span onmouseout="hideTip(event, 'fs67', 230)" onmouseover="showTip(event, 'fs67', 230)" class="i">y</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs62', 231)" onmouseover="showTip(event, 'fs62', 231)" class="i">height</span> <span class="o">*</span> (<span onmouseout="hideTip(event, 'fs88', 232)" onmouseover="showTip(event, 'fs88', 232)" class="i">snd</span> <span onmouseout="hideTip(event, 'fs60', 233)" onmouseover="showTip(event, 'fs60', 233)" class="i">h</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs89', 234)" onmouseover="showTip(event, 'fs89', 234)" class="i">fst</span> <span onmouseout="hideTip(event, 'fs60', 235)" onmouseover="showTip(event, 'fs60', 235)" class="i">h</span>)) <span class="o">+</span> <span onmouseout="hideTip(event, 'fs89', 236)" onmouseover="showTip(event, 'fs89', 236)" class="i">fst</span> <span onmouseout="hideTip(event, 'fs60', 237)" onmouseover="showTip(event, 'fs60', 237)" class="i">h</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs91', 238)" onmouseover="showTip(event, 'fs91', 238)" class="i">it</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 239)" onmouseover="showTip(event, 'fs37', 239)" class="i">countIterations</span> <span onmouseout="hideTip(event, 'fs58', 240)" onmouseover="showTip(event, 'fs58', 240)" class="i">palette</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 241)" onmouseover="showTip(event, 'fs92', 241)" class="i">Length</span> <span onmouseout="hideTip(event, 'fs87', 242)" onmouseover="showTip(event, 'fs87', 242)" class="i">x&#39;</span> <span onmouseout="hideTip(event, 'fs90', 243)" onmouseover="showTip(event, 'fs90', 243)" class="i">y&#39;</span> 
      <span onmouseout="hideTip(event, 'fs63', 244)" onmouseover="showTip(event, 'fs63', 244)" class="i">setPixel</span> <span onmouseout="hideTip(event, 'fs64', 245)" onmouseover="showTip(event, 'fs64', 245)" class="i">img</span> <span onmouseout="hideTip(event, 'fs66', 246)" onmouseover="showTip(event, 'fs66', 246)" class="i">x</span> <span onmouseout="hideTip(event, 'fs67', 247)" onmouseover="showTip(event, 'fs67', 247)" class="i">y</span> <span onmouseout="hideTip(event, 'fs61', 248)" onmouseover="showTip(event, 'fs61', 248)" class="i">width</span> <span onmouseout="hideTip(event, 'fs58', 249)" onmouseover="showTip(event, 'fs58', 249)" class="i">palette</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs91', 250)" onmouseover="showTip(event, 'fs91', 250)" class="i">it</span>]

    <span class="c">// Insert non-blocking waiting &amp; update the fractal</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs93', 251)" onmouseover="showTip(event, 'fs93', 251)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs94', 252)" onmouseover="showTip(event, 'fs94', 252)" class="i">Sleep</span>(<span class="n">1</span>)
    <span onmouseout="hideTip(event, 'fs84', 253)" onmouseover="showTip(event, 'fs84', 253)" class="i">ctx</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs95', 254)" onmouseover="showTip(event, 'fs95', 254)" class="i">putImageData</span>(<span onmouseout="hideTip(event, 'fs64', 255)" onmouseover="showTip(event, 'fs64', 255)" class="i">img</span>, <span class="n">0.0</span>, <span class="n">0.0</span>) }

<span class="c">/// Setup button event handler to start the rendering</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs96', 256)" onmouseover="showTip(event, 'fs96', 256)" class="i">main</span>() <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs97', 257)" onmouseover="showTip(event, 'fs97', 257)" class="i">go</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs98', 258)" onmouseover="showTip(event, 'fs98', 258)" class="i">HTMLButtonElement</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs82', 259)" onmouseover="showTip(event, 'fs82', 259)" class="i">Globals</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 260)" onmouseover="showTip(event, 'fs83', 260)" class="i">document</span><span class="o">?</span><span onmouseout="hideTip(event, 'fs97', 261)" onmouseover="showTip(event, 'fs97', 261)" class="i">go</span>
  <span onmouseout="hideTip(event, 'fs97', 262)" onmouseover="showTip(event, 'fs97', 262)" class="i">go</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 263)" onmouseover="showTip(event, 'fs99', 263)" class="i">addEventListener_click</span>(<span class="k">fun</span> _ <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs78', 264)" onmouseover="showTip(event, 'fs78', 264)" class="i">render</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs93', 265)" onmouseover="showTip(event, 'fs93', 265)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs100', 266)" onmouseover="showTip(event, 'fs100', 266)" class="i">StartImmediate</span>; <span class="k">null</span>)  </pre>
</td>
</tr>
</table><h2>Start local FunScript server</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">do</span> <span onmouseout="hideTip(event, 'fs101', 267)" onmouseover="showTip(event, 'fs101', 267)" class="i">Runtime</span><span class="o">.</span><span class="i">Run</span>(<span class="i">directory</span><span class="o">=</span><span class="s">&quot;</span><span class="s">Web</span><span class="s">&quot;</span>, <span class="i">port</span><span class="o">=</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs3', 268)" onmouseover="showTip(event, 'fs3', 268)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs102', 269)" onmouseover="showTip(event, 'fs102', 269)" class="i">Random</span>())<span class="o">.</span><span class="i">Next</span>(<span class="n">10000</span>) <span class="o">+</span> <span class="n">8000</span>)</pre>
</td>
</tr>
</table>
      <div class="tip" id="fs1">Multiple items<br />type ReflectedDefinitionAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; ReflectedDefinitionAttribute<br /><br />Full name: Microsoft.FSharp.Core.ReflectedDefinitionAttribute<br /><br />--------------------<br />new : unit -&gt; ReflectedDefinitionAttribute</div>
<div class="tip" id="fs2">module Program</div>
<div class="tip" id="fs3">namespace System</div>
<div class="tip" id="fs4">namespace FunScript</div>
<div class="tip" id="fs5">namespace FunScript.TypeScript</div>
<div class="tip" id="fs6">Multiple items<br />union case Complex.Complex: float * float -&gt; Complex<br /><br />--------------------<br />type Complex =<br />&#160;&#160;| Complex of float * float<br />&#160;&#160;static member Abs : Complex -&gt; float<br />&#160;&#160;static member ( + ) : Complex * Complex -&gt; Complex<br /><br />Full name: Program.Complex</div>
<div class="tip" id="fs7">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs8">static member Complex.Abs : Complex -&gt; float<br /><br />Full name: Program.Complex.Abs</div>
<div class="tip" id="fs9">val r : float</div>
<div class="tip" id="fs10">val i : float</div>
<div class="tip" id="fs11">val num : float</div>
<div class="tip" id="fs12">type Math<br /><br />Full name: FunScript.TypeScript.Math</div>
<div class="tip" id="fs13">Math.Abs(value: decimal) : decimal<br />Math.Abs(value: float) : float<br />Math.Abs(value: float32) : float32<br />Math.Abs(value: int64) : int64<br />Math.Abs(value: int) : int<br />Math.Abs(value: int16) : int16<br />Math.Abs(value: sbyte) : sbyte</div>
<div class="tip" id="fs14">val num2 : float</div>
<div class="tip" id="fs15">val num3 : float</div>
<div class="tip" id="fs16">Math.Sqrt(d: float) : float</div>
<div class="tip" id="fs17">val num4 : float</div>
<div class="tip" id="fs18">val r1 : float</div>
<div class="tip" id="fs19">val i1 : float</div>
<div class="tip" id="fs20">val r2 : float</div>
<div class="tip" id="fs21">val i2 : float</div>
<div class="tip" id="fs22">val Pow : Complex * power:float -&gt; Complex<br /><br />Full name: Program.ComplexModule.Pow</div>
<div class="tip" id="fs23">val power : float</div>
<div class="tip" id="fs24">static member Complex.Abs : Complex -&gt; float</div>
<div class="tip" id="fs25">Math.Atan2(y: float, x: float) : float</div>
<div class="tip" id="fs26">Math.Pow(x: float, y: float) : float</div>
<div class="tip" id="fs27">Math.Cos(d: float) : float</div>
<div class="tip" id="fs28">Math.Sin(a: float) : float</div>
<div class="tip" id="fs29">val c : Complex<br /><br />Full name: Program.c<br /><em><br /><br />&#160;Constant that generates nice fractal</em></div>
<div class="tip" id="fs30">val iterate : x:float -&gt; y:float -&gt; seq&lt;Complex&gt;<br /><br />Full name: Program.iterate<br /><em><br /><br />&#160;Generates sequence for given coordinates</em></div>
<div class="tip" id="fs31">val x : float</div>
<div class="tip" id="fs32">val y : float</div>
<div class="tip" id="fs33">val loop : (Complex -&gt; seq&lt;Complex&gt;)</div>
<div class="tip" id="fs34">val current : Complex</div>
<div class="tip" id="fs35">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.Operators.seq<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = Collections.Generic.IEnumerable&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.seq&lt;_&gt;</div>
<div class="tip" id="fs36">module ComplexModule<br /><br />from Program</div>
<div class="tip" id="fs37">val countIterations : max:int -&gt; x:float -&gt; y:float -&gt; int<br /><br />Full name: Program.countIterations</div>
<div class="tip" id="fs38">val max : int</div>
<div class="tip" id="fs39">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs40">val take : count:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.take</div>
<div class="tip" id="fs41">val takeWhile : predicate:(&#39;T -&gt; bool) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.takeWhile</div>
<div class="tip" id="fs42">val v : Complex</div>
<div class="tip" id="fs43">val length : source:seq&lt;&#39;T&gt; -&gt; int<br /><br />Full name: Microsoft.FSharp.Collections.Seq.length</div>
<div class="tip" id="fs44">val clr : &#39;a</div>
<div class="tip" id="fs45">val count : &#39;b</div>
<div class="tip" id="fs46">val r1 : int</div>
<div class="tip" id="fs47">val g1 : int</div>
<div class="tip" id="fs48">val b1 : int</div>
<div class="tip" id="fs49">val count : int</div>
<div class="tip" id="fs50">val r2 : int</div>
<div class="tip" id="fs51">val g2 : int</div>
<div class="tip" id="fs52">val b2 : int</div>
<div class="tip" id="fs53">val c : int</div>
<div class="tip" id="fs54">val k : float</div>
<div class="tip" id="fs55">val mid : (int -&gt; int -&gt; float)</div>
<div class="tip" id="fs56">val v1 : int</div>
<div class="tip" id="fs57">val v2 : int</div>
<div class="tip" id="fs58">val palette : (float * float * float) []<br /><br />Full name: Program.palette</div>
<div class="tip" id="fs59">val w : float * float<br /><br />Full name: Program.w</div>
<div class="tip" id="fs60">val h : float * float<br /><br />Full name: Program.h</div>
<div class="tip" id="fs61">val width : float<br /><br />Full name: Program.width</div>
<div class="tip" id="fs62">val height : float<br /><br />Full name: Program.height</div>
<div class="tip" id="fs63">val setPixel : img:ImageData -&gt; x:int -&gt; y:int -&gt; width:float -&gt; r:float * g:float * b:float -&gt; unit<br /><br />Full name: Program.setPixel<br /><em><br /><br />&#160;Set pixel value in ImageData to a given color</em></div>
<div class="tip" id="fs64">val img : ImageData</div>
<div class="tip" id="fs65">type ImageData<br /><br />Full name: FunScript.TypeScript.ImageData</div>
<div class="tip" id="fs66">val x : int</div>
<div class="tip" id="fs67">val y : int</div>
<div class="tip" id="fs68">val width : float</div>
<div class="tip" id="fs69">val g : float</div>
<div class="tip" id="fs70">val b : float</div>
<div class="tip" id="fs71">val index : int</div>
<div class="tip" id="fs72">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs73">property ImageData.data: float array</div>
<div class="tip" id="fs74">val doc : Document</div>
<div class="tip" id="fs75">type Document =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit MSNodeExtensions<br />&#160;&#160;&#160;&#160;inherit MSResourceMetadata<br />&#160;&#160;&#160;&#160;inherit DocumentEvent<br />&#160;&#160;&#160;&#160;inherit MSEventAttachmentTarget<br />&#160;&#160;&#160;&#160;inherit NodeSelector<br />&#160;&#160;&#160;&#160;inherit Node<br />&#160;&#160;end<br /><br />Full name: FunScript.TypeScript.Document</div>
<div class="tip" id="fs76">val name : string</div>
<div class="tip" id="fs77">member Document.getElementById : elementId:string -&gt; HTMLElement</div>
<div class="tip" id="fs78">val render : unit -&gt; Async&lt;unit&gt;<br /><br />Full name: Program.render<br /><em><br /><br />&#160;Render fractal asynchronously with sleep after every line</em></div>
<div class="tip" id="fs79">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async</div>
<div class="tip" id="fs80">val canv : HTMLCanvasElement</div>
<div class="tip" id="fs81">type HTMLCanvasElement =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit HTMLElement<br />&#160;&#160;end<br /><br />Full name: FunScript.TypeScript.HTMLCanvasElement</div>
<div class="tip" id="fs82">type Globals<br /><br />Full name: FunScript.TypeScript.Globals</div>
<div class="tip" id="fs83">property Globals.document: Document</div>
<div class="tip" id="fs84">val ctx : CanvasRenderingContext2D</div>
<div class="tip" id="fs85">member HTMLCanvasElement.getContext_2d : unit -&gt; CanvasRenderingContext2D</div>
<div class="tip" id="fs86">member CanvasRenderingContext2D.createImageData : imageDataOrSw:obj * ?sh:float -&gt; ImageData</div>
<div class="tip" id="fs87">val x&#39; : float</div>
<div class="tip" id="fs88">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Operators.snd</div>
<div class="tip" id="fs89">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs90">val y&#39; : float</div>
<div class="tip" id="fs91">val it : int</div>
<div class="tip" id="fs92">property Array.Length: int</div>
<div class="tip" id="fs93">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs94">static member Async.Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;</div>
<div class="tip" id="fs95">member CanvasRenderingContext2D.putImageData : imagedata:ImageData * dx:float * dy:float * ?dirtyX:float * ?dirtyY:float * ?dirtyWidth:float * ?dirtyHeight:float -&gt; unit</div>
<div class="tip" id="fs96">val main : unit -&gt; unit<br /><br />Full name: Program.main<br /><em><br /><br />&#160;Setup button event handler to start the rendering</em></div>
<div class="tip" id="fs97">val go : HTMLButtonElement</div>
<div class="tip" id="fs98">type HTMLButtonElement =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit MSDataBindingExtensions<br />&#160;&#160;&#160;&#160;inherit HTMLElement<br />&#160;&#160;end<br /><br />Full name: FunScript.TypeScript.HTMLButtonElement</div>
<div class="tip" id="fs99">member HTMLElement.addEventListener_click : listener:Func&lt;MouseEvent,obj&gt; * ?useCapture:bool -&gt; unit</div>
<div class="tip" id="fs100">static member Async.StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:Threading.CancellationToken -&gt; unit</div>
<div class="tip" id="fs101">namespace System.Runtime</div>
<div class="tip" id="fs102">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />Full name: System.Random<br /><br />--------------------<br />Random() : unit<br />Random(Seed: int) : unit</div>

    </div>
    <div class="large-3 columns">

      <h3>Live demo</h3>
      <p>Click here to open the sample live, running using JavaScript in a dialog window.</p>

      <div style="margin-left:auto;margin-right:auto;text-align:center;">
      <div id="run-button">
			  <a data-reveal-id="sampleDialog" href="#" class="success button">Open sample</a>
  		</div>
      </div>

      <p>To look at the generated JavaScript, view the source of this web page
        and scroll to the end of the file.</p>

      <h3>Tutorials</h3>
      <p>Learn FunScript from the following introductory tutorials</p>
      <ul>
        <li><a href="../tutorial/index.html">Getting started tutorial</a></li>
        <li><a href="../mario/index.html">Mario Game using HTML5</a></li>
        <li><a href="../simpleasync/index.html">Asynchornous computations</a></li>
        <li><a href="../canvas/index.html">Using HTML5 canvas</a></li>
      </ul>

      <h3>Samples</h3>
      <p>Browse other amazing samples created with FunScript</p>
      <ul>
        <li><a href="../pacman/index.html">Pacman using HTML5 Canvas</a></li>
        <li><a href="../worldbank/index.html">Visualizing World Bank data</a></li>
        <li><a href="../moviedatabase/index.html">Calling The Movie Database</a></li>
      </ul>
    </div>
	</div>

  <div class="row"><div class="large-12 columns" id="footer">
    FunScript is open-source project available under Apache 2.0 &#160; | &#160;  <a href="http://fsharp.org">The F# Software Foundation</a>
  </div></div>

  <!-- Fork me on GitHub link -->
  <a href="https://github.com/ZachBray/FunScript"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
   

  
  <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-36398955-2', 'funscript.info');
	  ga('send', 'pageview');
  </script>

  <!-- JavaScript code from the sample goes here... -->
  <script type="text/javascript">
    $(document).ready(function () {
var list_1_Tuple_3_Double__Double__Double__NilTuple_3_Double__Double__Double_, list_1_Tuple_3_Double__Double__Double__ConsTuple_3_Double__Double__Double_, UnfoldEnumerator_2_Unit__Complex___ctor$Unit__Complex_, UnfoldEnumerator_2_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double___ctor$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_, UnfoldEnumerator_2_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex___ctor$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_, UnfoldEnumerator_2_Int32__Int32___ctor$Int32_Int32, UnfoldEnumerator_2_Int32__Complex___ctor$Int32_Complex_, UnfoldEnumerator_2_IEnumerator_1_Int32__Tuple_3_Double__Double__Double___ctor$IEnumerator_1_Int32__Tuple_3_Double__Double__Double_, UnfoldEnumerator_2_FSharpOption_1_Complex__Complex___ctor$FSharpOption_1_Complex__Complex_, UnfoldEnumerator_2_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double___ctor$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_, TupleTuple_3_Int32__Int32__Int32__Int32, TupleTuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_, TupleTuple_3_Double__Double__Double__IEnumerator_1_Int32_, TupleTuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_, TupleLazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_, TupleLazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_, TupleInt32_Int32_Int32, TupleInt32_Int32, TupleFSharpFunc_2_Unit__Unit__FSharpFunc_2_Exception__Unit__FSharpFunc_2_String__Unit_, TupleDouble_Double_Double, TupleDouble_Double, TupleComplex__Unit_, TupleComplex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_, TupleComplex__Int32, TupleComplex__FSharpOption_1_Complex_, Seq__Unfold$Unit__Complex_Unit__Complex_, Seq__Unfold$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_, Seq__Unfold$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_, Seq__Unfold$Int32__Int32_Int32_Int32, Seq__Unfold$Int32__Complex_Int32_Complex_, Seq__Unfold$IEnumerator_1_Int32__Tuple_3_Double__Double__Double_IEnumerator_1_Int32__Tuple_3_Double__Double__Double_, Seq__Unfold$FSharpOption_1_Complex__Complex_FSharpOption_1_Complex__Complex_, Seq__Unfold$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_, Seq__ToList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Seq__ToArray$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Seq__TakeWhile$Complex_Complex_, Seq__Take$Complex_Complex_, Seq__Singleton$Complex_Complex_, Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Seq__Map$Int32__Tuple_3_Double__Double__Double_Int32_Tuple_3_Double__Double__Double_, Seq__Length$Complex_Complex_, Seq__IterateIndexed$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Seq__FromFactory$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Seq__FromFactory$Int32_Int32, Seq__FromFactory$Complex_Complex_, Seq__FoldIndexedAux$Unit__Tuple_3_Double__Double__Double_Unit__Tuple_3_Double__Double__Double_, Seq__FoldIndexedAux$Int32__Complex_Int32_Complex_, Seq__FoldIndexedAux$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_, Seq__FoldIndexed$Tuple_3_Double__Double__Double__Unit_Tuple_3_Double__Double__Double__Unit_, Seq__FoldIndexed$Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_, Seq__FoldIndexed$Complex__Int32_Complex__Int32, Seq__Fold$Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_, Seq__Fold$Complex__Int32_Complex__Int32, Seq__Enumerator$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Seq__Enumerator$Int32_Int32, Seq__Enumerator$Complex_Complex_, Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Seq__Delay$Complex_Complex_, Seq__Append$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Seq__Append$Complex_Complex_, Range__oneStep$Int32_Int32, Range__customStep$Int32__Int32_Int32_Int32, Program__width, Program__w, Program__setPixel$, Program__render$, Program__palette, Program__op_MinusMinusGreater$, Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32, Program__op_Dynamic$HTMLCanvasElement_HTMLCanvasElement_, Program__op_Dynamic$HTMLButtonElement_HTMLButtonElement_, Program__main$, Program__iterate$, Program__height, Program__h, Program__get_width$, Program__get_w$, Program__get_palette$, Program__get_height$, Program__get_h$, Program__get_c$, Program__countIterations$, Program__c, Option__IsSome$Unit_Unit_, Option__IsSome$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_, Option__IsSome$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_, Option__IsSome$Int32_Int32, Option__IsSome$IEnumerator_1_Int32_IEnumerator_1_Int32_, Option__IsSome$FSharpOption_1_Complex_FSharpOption_1_Complex_, Option__IsSome$FSharpList_1_Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double_, Option__GetValue$Unit_Unit_, Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Tuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_, Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__IEnumerator_1_Int32_Tuple_2_Tuple_3_Double__Double__Double__IEnumerator_1_Int32_, Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_2_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_, Option__GetValue$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_, Option__GetValue$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_, Option__GetValue$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, Option__GetValue$Tuple_2_Complex__Unit_Tuple_2_Complex__Unit_, Option__GetValue$Tuple_2_Complex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Complex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_, Option__GetValue$Tuple_2_Complex__Int32_Tuple_2_Complex__Int32_, Option__GetValue$Tuple_2_Complex__FSharpOption_1_Complex_Tuple_2_Complex__FSharpOption_1_Complex_, Option__GetValue$Int32_Int32, Option__GetValue$IEnumerator_1_Int32_IEnumerator_1_Int32_, Option__GetValue$FSharpRef_1_Boolean_FSharpRef_1_Boolean_, Option__GetValue$FSharpOption_1_Complex_FSharpOption_1_Complex_, Option__GetValue$FSharpList_1_Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double_, Option__GetValue$Complex_Complex_, Option__GetValue$CancellationToken_CancellationToken_, MathJS__Sqrt$, MathJS__Sin$, MathJS__Pow$, MathJS__Cos$, MathJS__Atan2$, MathJS__Abs$, List__Tail$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, List__Reverse$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, List__Head$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, List__FoldIndexedAux$list_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_list_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_, List__FoldIndexed$Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_, List__Fold$Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_, List__Empty$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, List__CreateCons$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Lazy_1_Object__get_Value$Object_, Lazy_1_Object___ctor$Object_, Lazy_1_Object__Create$Object_, LanguagePrimitives__UnboxGeneric$HTMLCanvasElement_HTMLCanvasElement_, LanguagePrimitives__UnboxGeneric$HTMLButtonElement_HTMLButtonElement_, GenericConstants__One$Int32_Int32, CreateEnumerable_1_Tuple_3_Double__Double__Double___ctor$Tuple_3_Double__Double__Double_, CreateEnumerable_1_Int32___ctor$Int32, CreateEnumerable_1_Complex___ctor$Complex_, Complex__op_Addition$, Complex__Complex, Complex__Abs$, ComplexModule__Pow$, CancellationToken___ctor$, CancellationToken__ThrowIfCancellationRequested$, Async__StartImmediate$, Async__Sleep$, Async__FromContinuations$Unit_Unit_, Async_1_protectedCont$Unit_Unit_, Async_1_invokeCont$Unit_Unit_, Async_1_get_async$, Async_1_Unit__ContUnit_, AsyncParams_1_Unit___ctor$Unit_, AsyncParamsAux___ctor$, AsyncBuilder___ctor$, AsyncBuilder__Zero$, AsyncBuilder__While$, AsyncBuilder__Return$Unit_Unit_, AsyncBuilder__For$Int32_Int32, AsyncBuilder__Delay$Unit_Unit_, AsyncBuilder__Combine$Unit_Unit_, AsyncBuilder__Bind$Unit__Unit_Unit__Unit_, Array__ZeroCreate$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_, Array__BoxedLength$;
  Array__BoxedLength$ = (function (xs)
  {
    return xs.length;;
  });
  Array__ZeroCreate$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (size)
  {
    return new Array(size);;
  });
  AsyncBuilder__Bind$Unit__Unit_Unit__Unit_ = (function (x, _arg1, f)
  {
    var v = _arg1.Item;
    return (function (_f)
    {
      return Async_1_protectedCont$Unit_Unit_(_f);
    })((function (k)
    {
      var cont = (function (a)
      {
        var patternInput = f(a);
        var r = patternInput.Item;
        return r(k);
      });
      return v((new AsyncParams_1_Unit___ctor$Unit_(cont, k.Aux)));
    }));
  });
  AsyncBuilder__Combine$Unit_Unit_ = (function (x, work1, work2)
  {
    return AsyncBuilder__Bind$Unit__Unit_Unit__Unit_(x, work1, (function (unitVar0)
    {
      return work2;
    }));
  });
  AsyncBuilder__Delay$Unit_Unit_ = (function (x, f)
  {
    return (function (_f)
    {
      return Async_1_protectedCont$Unit_Unit_(_f);
    })((function (k)
    {
      var _1708;
      var _1710;
      _1708 = f(_1710);
      var patternInput = _1708;
      var r = patternInput.Item;
      return r(k);
    }));
  });
  AsyncBuilder__For$Int32_Int32 = (function (x, seq, body)
  {
    var enumerator = seq.GetEnumerator();
    return AsyncBuilder__While$(x, (function (unitVar0)
    {
      return enumerator.MoveNext();
    }), AsyncBuilder__Delay$Unit_Unit_(x, (function (unitVar0)
    {
      return body(enumerator.get_Current());
    })));
  });
  AsyncBuilder__Return$Unit_Unit_ = (function (x, v)
  {
    return (function (f)
    {
      return Async_1_protectedCont$Unit_Unit_(f);
    })((function (k)
    {
      return Async_1_invokeCont$Unit_Unit_(k, v);
    }));
  });
  AsyncBuilder__While$ = (function (x, cond, body)
  {
    var _1716;
    var _1718;
    _1716 = cond(_1718);
    if (_1716) 
    {
      return AsyncBuilder__Bind$Unit__Unit_Unit__Unit_(x, body, (function (unitVar0)
      {
        return AsyncBuilder__While$(x, cond, body);
      }));
    }
    else
    {
      var _1747;
      return AsyncBuilder__Return$Unit_Unit_(x, _1747);
    };
  });
  AsyncBuilder__Zero$ = (function (x, unitVar1)
  {
    return (function (f)
    {
      return Async_1_protectedCont$Unit_Unit_(f);
    })((function (k)
    {
      var _1689;
      return Async_1_invokeCont$Unit_Unit_(k, _1689);
    }));
  });
  AsyncBuilder___ctor$ = (function (unitVar0)
  {
    ;
  });
  AsyncParamsAux___ctor$ = (function (StackCounter, ExceptionCont, CancelledCont, CancellationToken)
  {
    this.StackCounter = StackCounter;
    this.ExceptionCont = ExceptionCont;
    this.CancelledCont = CancelledCont;
    this.CancellationToken = CancellationToken;
  });
  AsyncParamsAux___ctor$.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.StackCounter.CompareTo(that.StackCounter);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.ExceptionCont.CompareTo(that.ExceptionCont);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = this.CancelledCont.CompareTo(that.CancelledCont);
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          var ____diff = 0.000000;
          ____diff = this.CancellationToken.CompareTo(that.CancellationToken);
          diff = ____diff;
          if ((diff != 0.000000)) 
          {
            return diff;
          }
          else
          {
            return 0.000000;
          };
        };
      };
    };
  });
  AsyncParams_1_Unit___ctor$Unit_ = (function (Cont, Aux)
  {
    this.Cont = Cont;
    this.Aux = Aux;
  });
  AsyncParams_1_Unit___ctor$Unit_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Cont.CompareTo(that.Cont);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Aux.CompareTo(that.Aux);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  Async_1_Unit__ContUnit_ = (function (Item)
  {
    this.Tag = 0.000000;
    this._CaseName = "Cont";
    this.Item = Item;
  });
  Async_1_Unit__ContUnit_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Item.CompareTo(that.Item);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  Async_1_get_async$ = (function ()
  {
    return (new AsyncBuilder___ctor$());
  });
  Async_1_invokeCont$Unit_Unit_ = (function (k, value)
  {
    return k.Cont(value);
  });
  Async_1_protectedCont$Unit_Unit_ = (function (f)
  {
    return (new Async_1_Unit__ContUnit_((function (args)
    {
      CancellationToken__ThrowIfCancellationRequested$(args.Aux.CancellationToken);
      args.Aux.StackCounter.contents = (args.Aux.StackCounter.contents + 1);
      null;
      if ((args.Aux.StackCounter.contents > 1000)) 
      {
        args.Aux.StackCounter.contents = 0;
        null;
        return window.setTimeout((function (unitVar0)
        {
          try
          {
            return f(args);
          }
          catch(ex){
            return args.Aux.ExceptionCont(ex);
          };
        }), 1.000000);
      }
      else
      {
        try
        {
          return f(args);
        }
        catch(ex){
          return args.Aux.ExceptionCont(ex);
        };
      };
    })));
  });
  Async__FromContinuations$Unit_Unit_ = (function (f)
  {
    return (function (_f)
    {
      return Async_1_protectedCont$Unit_Unit_(_f);
    })((function (k)
    {
      return f((new TupleFSharpFunc_2_Unit__Unit__FSharpFunc_2_Exception__Unit__FSharpFunc_2_String__Unit_(k.Cont, k.Aux.ExceptionCont, k.Aux.CancelledCont)));
    }));
  });
  Async__Sleep$ = (function (milliseconds)
  {
    return Async__FromContinuations$Unit_Unit_((function (tupledArg)
    {
      var cont = tupledArg.Items[0.000000];
      var econt = tupledArg.Items[1.000000];
      var ccont = tupledArg.Items[2.000000];
      return (function (value)
      {
        var ignored0 = value;
      })(window.setTimeout((function (_arg1)
      {
        var _1777;
        return cont(_1777);
      }), milliseconds));
    }));
  });
  Async__StartImmediate$ = (function (workflow, cancellationToken)
  {
    var _15;
    if ((cancellationToken.Tag == 1.000000)) 
    {
      var v = Option__GetValue$CancellationToken_CancellationToken_(cancellationToken);
      _15 = v;
    }
    else
    {
      _15 = (new CancellationToken___ctor$({Tag: 0.000000}));
    };
    var token = _15;
    var f = workflow.Item;
    var aux = (new AsyncParamsAux___ctor$({contents: 0}, (function (value)
    {
      var ignored0 = value;
    }), (function (value)
    {
      var ignored0 = value;
    }), token));
    return f((new AsyncParams_1_Unit___ctor$Unit_((function (value)
    {
      var ignored0 = value;
    }), aux)));
  });
  CancellationToken__ThrowIfCancellationRequested$ = (function (x, unitVar1)
  {
    var matchValue = x.Cell;
    if ((matchValue.Tag == 1.000000)) 
    {
      var _1574;
      var cell = Option__GetValue$FSharpRef_1_Boolean_FSharpRef_1_Boolean_(matchValue);
      _1574 = cell.contents;
      if (_1574) 
      {
        var _cell = Option__GetValue$FSharpRef_1_Boolean_FSharpRef_1_Boolean_(matchValue);
        throw ("OperationCancelledException");
        return null;
      }
      else
      {
        ;
      };
    }
    else
    {
      ;
    };
  });
  CancellationToken___ctor$ = (function (Cell)
  {
    this.Cell = Cell;
  });
  CancellationToken___ctor$.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Cell.CompareTo(that.Cell);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      return 0.000000;
    };
  });
  ComplexModule__Pow$ = (function (_arg1, power)
  {
    var r = _arg1.Item1;
    var i = _arg1.Item2;
    var num = Complex__Abs$((new Complex__Complex(r, i)));
    var num2 = MathJS__Atan2$(i, r);
    var num3 = (power * num2);
    var num4 = MathJS__Pow$(num, power);
    return (new Complex__Complex((num4 * MathJS__Cos$(num3)), (num4 * MathJS__Sin$(num3))));
  });
  Complex__Abs$ = (function (_arg1)
  {
    var r = _arg1.Item1;
    var i = _arg1.Item2;
    var num = MathJS__Abs$(r);
    var num2 = MathJS__Abs$(i);
    if ((num > num2)) 
    {
      var num3 = (num2 / num);
      return (num * MathJS__Sqrt$((1.000000 + (num3 * num3))));
    }
    else
    {
      if ((num2 == 0.000000)) 
      {
        return num;
      }
      else
      {
        var num4 = (num / num2);
        return (num2 * MathJS__Sqrt$((1.000000 + (num4 * num4))));
      };
    };
  });
  Complex__Complex = (function (Item1, Item2)
  {
    this.Tag = 0.000000;
    this._CaseName = "Complex";
    this.Item1 = Item1;
    this.Item2 = Item2;
  });
  Complex__Complex.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Item1 < that.Item1) ? -1.000000 : ((this.Item1 == that.Item1) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = ((this.Item2 < that.Item2) ? -1.000000 : ((this.Item2 == that.Item2) ? 0.000000 : 1.000000));
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  Complex__op_Addition$ = (function (_arg2, _arg3)
  {
    var r1 = _arg2.Item1;
    var i1 = _arg2.Item2;
    var r2 = _arg3.Item1;
    var i2 = _arg3.Item2;
    return (new Complex__Complex((r1 + r2), (i1 + i2)));
  });
  CreateEnumerable_1_Complex___ctor$Complex_ = (function (factory)
  {
    this.factory = factory;
  });
  CreateEnumerable_1_Int32___ctor$Int32 = (function (factory)
  {
    this.factory = factory;
  });
  CreateEnumerable_1_Tuple_3_Double__Double__Double___ctor$Tuple_3_Double__Double__Double_ = (function (factory)
  {
    this.factory = factory;
  });
  GenericConstants__One$Int32_Int32 = (function ()
  {
    return 1;;
  });
  LanguagePrimitives__UnboxGeneric$HTMLButtonElement_HTMLButtonElement_ = (function (x)
  {
    return x;;
  });
  LanguagePrimitives__UnboxGeneric$HTMLCanvasElement_HTMLCanvasElement_ = (function (x)
  {
    return x;;
  });
  Lazy_1_Object__Create$Object_ = (function (f)
  {
    return (new Lazy_1_Object___ctor$Object_(null, f));
  });
  Lazy_1_Object___ctor$Object_ = (function (value, factory)
  {
    this.factory = factory;
    this.isCreated = false;
    this.value_25 = value;
  });
  Lazy_1_Object__get_Value$Object_ = (function (x, unitVar1)
  {
    if ((!x.isCreated)) 
    {
      var _794;
      var _797;
      _794 = x.factory(_797);
      x.value_25 = _794;
      x.isCreated = true;
    }
    else
    {
      ;
    };
    return x.value_25;
  });
  List__CreateCons$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (x, xs)
  {
    return (new list_1_Tuple_3_Double__Double__Double__ConsTuple_3_Double__Double__Double_(x, xs));
  });
  List__Empty$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function ()
  {
    return (new list_1_Tuple_3_Double__Double__Double__NilTuple_3_Double__Double__Double_());
  });
  List__Fold$Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_ = (function (f, seed, xs)
  {
    return List__FoldIndexed$Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_((function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          return f(acc)(x);
        });
      });
    }), seed, xs);
  });
  List__FoldIndexed$Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_ = (function (f, seed, xs)
  {
    return List__FoldIndexedAux$list_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_list_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_(f, 0, seed, xs);
  });
  List__FoldIndexedAux$list_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_list_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_ = (function (f, i, acc, _arg1)
  {
    if ((_arg1.Tag == 1.000000)) 
    {
      var xs = _arg1.Item2;
      var x = _arg1.Item1;
      return List__FoldIndexedAux$list_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_list_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_(f, (i + 1), f(i)(acc)(x), xs);
    }
    else
    {
      return acc;
    };
  });
  List__Head$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (_arg1)
  {
    if ((_arg1.Tag == 1.000000)) 
    {
      var xs = _arg1.Item2;
      var x = _arg1.Item1;
      return x;
    }
    else
    {
      throw ("List was empty");
      return null;
    };
  });
  List__Reverse$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (xs)
  {
    return List__Fold$Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__list_1_Tuple_3_Double__Double__Double_((function (acc)
    {
      return (function (x)
      {
        return (new list_1_Tuple_3_Double__Double__Double__ConsTuple_3_Double__Double__Double_(x, acc));
      });
    }), (new list_1_Tuple_3_Double__Double__Double__NilTuple_3_Double__Double__Double_()), xs);
  });
  List__Tail$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (_arg1)
  {
    if ((_arg1.Tag == 1.000000)) 
    {
      var xs = _arg1.Item2;
      var x = _arg1.Item1;
      return xs;
    }
    else
    {
      throw ("List was empty");
      return null;
    };
  });
  MathJS__Abs$ = (function (x)
  {
    return Math.abs(x);;
  });
  MathJS__Atan2$ = (function (x, y)
  {
    return Math.atan2(x, y);;
  });
  MathJS__Cos$ = (function (x)
  {
    return Math.cos(x);;
  });
  MathJS__Pow$ = (function (x, y)
  {
    return Math.pow(x, y);;
  });
  MathJS__Sin$ = (function (x)
  {
    return Math.sin(x);;
  });
  MathJS__Sqrt$ = (function (x)
  {
    return Math.sqrt(x);;
  });
  Option__GetValue$CancellationToken_CancellationToken_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Complex_Complex_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$FSharpList_1_Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$FSharpOption_1_Complex_FSharpOption_1_Complex_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$FSharpRef_1_Boolean_FSharpRef_1_Boolean_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$IEnumerator_1_Int32_IEnumerator_1_Int32_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Int32_Int32 = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Complex__FSharpOption_1_Complex_Tuple_2_Complex__FSharpOption_1_Complex_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Complex__Int32_Tuple_2_Complex__Int32_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Complex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Complex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Complex__Unit_Tuple_2_Complex__Unit_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_2_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__IEnumerator_1_Int32_Tuple_2_Tuple_3_Double__Double__Double__IEnumerator_1_Int32_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Tuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_ = (function (option)
  {
    return option.Value;;
  });
  Option__GetValue$Unit_Unit_ = (function (option)
  {
    return option.Value;;
  });
  Option__IsSome$FSharpList_1_Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double_ = (function (option)
  {
    return ((option.Tag == 1.000000) && true);
  });
  Option__IsSome$FSharpOption_1_Complex_FSharpOption_1_Complex_ = (function (option)
  {
    return ((option.Tag == 1.000000) && true);
  });
  Option__IsSome$IEnumerator_1_Int32_IEnumerator_1_Int32_ = (function (option)
  {
    return ((option.Tag == 1.000000) && true);
  });
  Option__IsSome$Int32_Int32 = (function (option)
  {
    return ((option.Tag == 1.000000) && true);
  });
  Option__IsSome$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_ = (function (option)
  {
    return ((option.Tag == 1.000000) && true);
  });
  Option__IsSome$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_ = (function (option)
  {
    return ((option.Tag == 1.000000) && true);
  });
  Option__IsSome$Unit_Unit_ = (function (option)
  {
    return ((option.Tag == 1.000000) && true);
  });
  Program__countIterations$ = (function (max, x, y)
  {
    var _1024;
    var _1025;
    var predicate = (function (v)
    {
      return (Complex__Abs$(v) < 2.000000);
    });
    _1025 = (function (source)
    {
      return Seq__TakeWhile$Complex_Complex_(predicate, source);
    });
    var _1160;
    var _1161;
    var count = (max - 1);
    _1161 = (function (source)
    {
      return Seq__Take$Complex_Complex_(count, source);
    });
    _1160 = _1161(Program__iterate$(x, y));
    _1024 = _1025(_1160);
    return (function (source)
    {
      return Seq__Length$Complex_Complex_(source);
    })(_1024);
  });
  Program__get_c$ = (function ()
  {
    return (new Complex__Complex(-0.701760, -0.384200));
  });
  Program__get_h$ = (function ()
  {
    return (new TupleDouble_Double(-0.950000, -0.350000));
  });
  Program__get_height$ = (function ()
  {
    return 300.000000;
  });
  Program__get_palette$ = (function ()
  {
    return Seq__ToArray$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (unitVar)
    {
      var _208;
      var _209;
      var _210;
      var tupledArg = Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32((new TupleInt32_Int32_Int32(245, 219, 184)), 3);
      var _tupledArg = (new TupleInt32_Int32_Int32(245, 219, 184));
      var arg00_ = tupledArg.Items[0.000000];
      var count = tupledArg.Items[1.000000];
      var r2 = _tupledArg.Items[0.000000];
      var g2 = _tupledArg.Items[1.000000];
      var b2 = _tupledArg.Items[2.000000];
      _210 = Program__op_MinusMinusGreater$(arg00_, count, r2, g2, b2);
      _209 = Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_210);
      _208 = _209;
      return Seq__Append$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_208, Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (_unitVar)
      {
        var _573;
        var _574;
        var _575;
        var __tupledArg = Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32((new TupleInt32_Int32_Int32(245, 219, 184)), 4);
        var ___tupledArg = (new TupleInt32_Int32_Int32(138, 173, 179));
        var _arg00_ = __tupledArg.Items[0.000000];
        var _count = __tupledArg.Items[1.000000];
        var _r2 = ___tupledArg.Items[0.000000];
        var _g2 = ___tupledArg.Items[1.000000];
        var _b2 = ___tupledArg.Items[2.000000];
        _575 = Program__op_MinusMinusGreater$(_arg00_, _count, _r2, _g2, _b2);
        _574 = Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_575);
        _573 = _574;
        return Seq__Append$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_573, Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (__unitVar)
        {
          var _605;
          var _606;
          var _607;
          var ____tupledArg = Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32((new TupleInt32_Int32_Int32(138, 173, 179)), 4);
          var _____tupledArg = (new TupleInt32_Int32_Int32(2, 12, 74));
          var __arg00_ = ____tupledArg.Items[0.000000];
          var __count = ____tupledArg.Items[1.000000];
          var __r2 = _____tupledArg.Items[0.000000];
          var __g2 = _____tupledArg.Items[1.000000];
          var __b2 = _____tupledArg.Items[2.000000];
          _607 = Program__op_MinusMinusGreater$(__arg00_, __count, __r2, __g2, __b2);
          _606 = Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_607);
          _605 = _606;
          return Seq__Append$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_605, Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (___unitVar)
          {
            var _637;
            var _638;
            var _639;
            var ______tupledArg = Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32((new TupleInt32_Int32_Int32(2, 12, 74)), 4);
            var _______tupledArg = (new TupleInt32_Int32_Int32(61, 102, 130));
            var ___arg00_ = ______tupledArg.Items[0.000000];
            var ___count = ______tupledArg.Items[1.000000];
            var ___r2 = _______tupledArg.Items[0.000000];
            var ___g2 = _______tupledArg.Items[1.000000];
            var ___b2 = _______tupledArg.Items[2.000000];
            _639 = Program__op_MinusMinusGreater$(___arg00_, ___count, ___r2, ___g2, ___b2);
            _638 = Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_639);
            _637 = _638;
            return Seq__Append$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_637, Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (____unitVar)
            {
              var _669;
              var _670;
              var _671;
              var ________tupledArg = Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32((new TupleInt32_Int32_Int32(61, 102, 130)), 8);
              var _________tupledArg = (new TupleInt32_Int32_Int32(249, 243, 221));
              var ____arg00_ = ________tupledArg.Items[0.000000];
              var ____count = ________tupledArg.Items[1.000000];
              var ____r2 = _________tupledArg.Items[0.000000];
              var ____g2 = _________tupledArg.Items[1.000000];
              var ____b2 = _________tupledArg.Items[2.000000];
              _671 = Program__op_MinusMinusGreater$(____arg00_, ____count, ____r2, ____g2, ____b2);
              _670 = Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_671);
              _669 = _670;
              return Seq__Append$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_669, Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (_____unitVar)
              {
                var _701;
                var _702;
                var _703;
                var __________tupledArg = Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32((new TupleInt32_Int32_Int32(249, 243, 221)), 32);
                var ___________tupledArg = (new TupleInt32_Int32_Int32(138, 173, 179));
                var _____arg00_ = __________tupledArg.Items[0.000000];
                var _____count = __________tupledArg.Items[1.000000];
                var _____r2 = ___________tupledArg.Items[0.000000];
                var _____g2 = ___________tupledArg.Items[1.000000];
                var _____b2 = ___________tupledArg.Items[2.000000];
                _703 = Program__op_MinusMinusGreater$(_____arg00_, _____count, _____r2, _____g2, _____b2);
                _702 = Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_703);
                _701 = _702;
                return Seq__Append$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_701, Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (______unitVar)
                {
                  var _733;
                  var ____________tupledArg = Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32((new TupleInt32_Int32_Int32(138, 173, 179)), 32);
                  var _____________tupledArg = (new TupleInt32_Int32_Int32(61, 102, 130));
                  var ______arg00_ = ____________tupledArg.Items[0.000000];
                  var ______count = ____________tupledArg.Items[1.000000];
                  var ______r2 = _____________tupledArg.Items[0.000000];
                  var ______g2 = _____________tupledArg.Items[1.000000];
                  var ______b2 = _____________tupledArg.Items[2.000000];
                  _733 = Program__op_MinusMinusGreater$(______arg00_, ______count, ______r2, ______g2, ______b2);
                  return Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_733);
                })));
              })));
            })));
          })));
        })));
      })));
    })));
  });
  Program__get_w$ = (function ()
  {
    return (new TupleDouble_Double(-0.400000, 0.400000));
  });
  Program__get_width$ = (function ()
  {
    return 400.000000;
  });
  Program__iterate$ = (function (x, y)
  {
    var loop;
    loop = (function (current)
    {
      return Seq__Delay$Complex_Complex_((function (unitVar)
      {
        return Seq__Append$Complex_Complex_(Seq__Singleton$Complex_Complex_(current), Seq__Delay$Complex_Complex_((function (_unitVar)
        {
          return loop(Complex__op_Addition$(ComplexModule__Pow$(current, 2.000000), Program__c));
        })));
      }));
    });
    return loop((new Complex__Complex(x, y)));
  });
  Program__main$ = (function (unitVar0)
  {
    var go = Program__op_Dynamic$HTMLButtonElement_HTMLButtonElement_((window.document), "go");
    return (go.addEventListener("click", (function (_arg1)
    {
      (function (arg00)
      {
        return Async__StartImmediate$(arg00, {Tag: 0.000000});
      })(Program__render$());
      return null;
    })));
  });
  Program__op_Dynamic$HTMLButtonElement_HTMLButtonElement_ = (function (doc, name)
  {
    return LanguagePrimitives__UnboxGeneric$HTMLButtonElement_HTMLButtonElement_((doc.getElementById(name)));
  });
  Program__op_Dynamic$HTMLCanvasElement_HTMLCanvasElement_ = (function (doc, name)
  {
    return LanguagePrimitives__UnboxGeneric$HTMLCanvasElement_HTMLCanvasElement_((doc.getElementById(name)));
  });
  Program__op_MinusMinus$Tuple_3_Int32__Int32__Int32__Int32_Tuple_3_Int32__Int32__Int32__Int32 = (function (clr, count)
  {
    return (new TupleTuple_3_Int32__Int32__Int32__Int32(clr, count));
  });
  Program__op_MinusMinusGreater$ = (function (_arg1, count, r2, g2, b2)
  {
    var r1 = _arg1.Items[0.000000];
    var g1 = _arg1.Items[1.000000];
    var b1 = _arg1.Items[2.000000];
    return Seq__ToList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (unitVar)
    {
      return Seq__Map$Int32__Tuple_3_Double__Double__Double_Int32_Tuple_3_Double__Double__Double_((function (c)
      {
        var k = (c / count);
        var mid = (function (v1)
        {
          return (function (v2)
          {
            return (v1 + ((v2 - v1) * k));
          });
        });
        return (new TupleDouble_Double_Double(mid(r1)(r2), mid(g1)(g2), mid(b1)(b2)));
      }), Range__oneStep$Int32_Int32(0, (count - 1)));
    })));
  });
  Program__render$ = (function (unitVar0)
  {
    return (function (builder_)
    {
      return AsyncBuilder__Delay$Unit_Unit_(builder_, (function (unitVar)
      {
        var canv = Program__op_Dynamic$HTMLCanvasElement_HTMLCanvasElement_((window.document), "canvas");
        var ctx = (canv.getContext("2d"));
        var img = (ctx.createImageData(Program__width, Program__height));
        return AsyncBuilder__For$Int32_Int32(builder_, Range__oneStep$Int32_Int32(0, (Program__width - 1)), (function (_arg1)
        {
          var x = _arg1;
          return AsyncBuilder__Combine$Unit_Unit_(builder_, AsyncBuilder__For$Int32_Int32(builder_, Range__oneStep$Int32_Int32(0, (Program__height - 1)), (function (_arg2)
          {
            var y = _arg2;
            var x_ = (((x / Program__width) * (Program__w.Items[1.000000] - Program__w.Items[0.000000])) + Program__w.Items[0.000000]);
            var y_ = (((y / Program__height) * (Program__h.Items[1.000000] - Program__h.Items[0.000000])) + Program__h.Items[0.000000]);
            var it = Program__countIterations$(Array__BoxedLength$(Program__palette), x_, y_);
            var tupledArg = Program__palette[it];
            var r = tupledArg.Items[0.000000];
            var g = tupledArg.Items[1.000000];
            var b = tupledArg.Items[2.000000];
            Program__setPixel$(img, x, y, Program__width, r, g, b);
            return AsyncBuilder__Zero$(builder_);
          })), AsyncBuilder__Delay$Unit_Unit_(builder_, (function (_unitVar)
          {
            return AsyncBuilder__Bind$Unit__Unit_Unit__Unit_(builder_, Async__Sleep$(1), (function (_arg3)
            {
              (ctx.putImageData(img, 0.000000, 0.000000));
              return AsyncBuilder__Zero$(builder_);
            }));
          })));
        }));
      }));
    })(Async_1_get_async$());
  });
  Program__setPixel$ = (function (img, x, y, width, r, g, b)
  {
    var index = ((x + (y * width)) * 4);
    (img.data)[(index + 0)] = r;
    null;
    (img.data)[(index + 1)] = g;
    null;
    (img.data)[(index + 2)] = b;
    null;
    (img.data)[(index + 3)] = 255.000000;
    return null;
  });
  Range__customStep$Int32__Int32_Int32_Int32 = (function (first, stepping, last)
  {
    var _73;
    var f = (function (x)
    {
      if ((x <= last)) 
      {
        return {Tag: 1.000000, Value: (new TupleInt32_Int32(x, (x + stepping)))};
      }
      else
      {
        return {Tag: 0.000000};
      };
    });
    _73 = (function (seed)
    {
      return Seq__Unfold$Int32__Int32_Int32_Int32(f, seed);
    });
    return _73(first);
  });
  Range__oneStep$Int32_Int32 = (function (first, last)
  {
    return Range__customStep$Int32__Int32_Int32_Int32(first, GenericConstants__One$Int32_Int32(), last);
  });
  Seq__Append$Complex_Complex_ = (function (xs, ys)
  {
    return (function (f)
    {
      return Seq__Delay$Complex_Complex_(f);
    })((function (unitVar0)
    {
      var enums = (new TupleLazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_(Lazy_1_Object__Create$Object_((function (unitVar)
      {
        return Seq__Enumerator$Complex_Complex_(xs);
      })), Lazy_1_Object__Create$Object_((function (unitVar)
      {
        return Seq__Enumerator$Complex_Complex_(ys);
      }))));
      var _1408;
      var f = (function (_arg1)
      {
        var _1410;
        var next = _arg1.Items[1.000000];
        var _enums = _arg1;
        var curr = _arg1.Items[0.000000];
        _1410 = Lazy_1_Object__get_Value$Object_(curr).MoveNext();
        if (_1410) 
        {
          var _next = _arg1.Items[1.000000];
          var __enums = _arg1;
          var _curr = _arg1.Items[0.000000];
          return {Tag: 1.000000, Value: (new TupleComplex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_(Lazy_1_Object__get_Value$Object_(_curr).get_Current(), __enums))};
        }
        else
        {
          var _1430;
          var __next = _arg1.Items[1.000000];
          var __curr = _arg1.Items[0.000000];
          _1430 = Lazy_1_Object__get_Value$Object_(__next).MoveNext();
          if (_1430) 
          {
            var ___next = _arg1.Items[1.000000];
            var ___curr = _arg1.Items[0.000000];
            return {Tag: 1.000000, Value: (new TupleComplex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_(Lazy_1_Object__get_Value$Object_(___next).get_Current(), (new TupleLazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_(___next, ___curr))))};
          }
          else
          {
            return {Tag: 0.000000};
          };
        };
      });
      _1408 = (function (seed)
      {
        return Seq__Unfold$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_(f, seed);
      });
      return _1408(enums);
    }));
  });
  Seq__Append$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (xs, ys)
  {
    return (function (f)
    {
      return Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(f);
    })((function (unitVar0)
    {
      var enums = (new TupleLazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_(Lazy_1_Object__Create$Object_((function (unitVar)
      {
        return Seq__Enumerator$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(xs);
      })), Lazy_1_Object__Create$Object_((function (unitVar)
      {
        return Seq__Enumerator$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(ys);
      }))));
      var _779;
      var f = (function (_arg1)
      {
        var _781;
        var next = _arg1.Items[1.000000];
        var _enums = _arg1;
        var curr = _arg1.Items[0.000000];
        _781 = Lazy_1_Object__get_Value$Object_(curr).MoveNext();
        if (_781) 
        {
          var _next = _arg1.Items[1.000000];
          var __enums = _arg1;
          var _curr = _arg1.Items[0.000000];
          return {Tag: 1.000000, Value: (new TupleTuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_(Lazy_1_Object__get_Value$Object_(_curr).get_Current(), __enums))};
        }
        else
        {
          var _812;
          var __next = _arg1.Items[1.000000];
          var __curr = _arg1.Items[0.000000];
          _812 = Lazy_1_Object__get_Value$Object_(__next).MoveNext();
          if (_812) 
          {
            var ___next = _arg1.Items[1.000000];
            var ___curr = _arg1.Items[0.000000];
            return {Tag: 1.000000, Value: (new TupleTuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_(Lazy_1_Object__get_Value$Object_(___next).get_Current(), (new TupleLazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_(___next, ___curr))))};
          }
          else
          {
            return {Tag: 0.000000};
          };
        };
      });
      _779 = (function (seed)
      {
        return Seq__Unfold$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_(f, seed);
      });
      return _779(enums);
    }));
  });
  Seq__Delay$Complex_Complex_ = (function (f)
  {
    return Seq__FromFactory$Complex_Complex_((function (unitVar0)
    {
      var _1077;
      var _1079;
      _1077 = f(_1079);
      return Seq__Enumerator$Complex_Complex_(_1077);
    }));
  });
  Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (f)
  {
    return Seq__FromFactory$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (unitVar0)
    {
      var _292;
      var _294;
      _292 = f(_294);
      return Seq__Enumerator$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_292);
    }));
  });
  Seq__Enumerator$Complex_Complex_ = (function (xs)
  {
    return xs.GetEnumerator();
  });
  Seq__Enumerator$Int32_Int32 = (function (xs)
  {
    return xs.GetEnumerator();
  });
  Seq__Enumerator$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (xs)
  {
    return xs.GetEnumerator();
  });
  Seq__Fold$Complex__Int32_Complex__Int32 = (function (f, seed, xs)
  {
    return Seq__FoldIndexed$Complex__Int32_Complex__Int32((function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          return f(acc)(x);
        });
      });
    }), seed, xs);
  });
  Seq__Fold$Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_ = (function (f, seed, xs)
  {
    return Seq__FoldIndexed$Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_((function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          return f(acc)(x);
        });
      });
    }), seed, xs);
  });
  Seq__FoldIndexed$Complex__Int32_Complex__Int32 = (function (f, seed, xs)
  {
    return Seq__FoldIndexedAux$Int32__Complex_Int32_Complex_(f, seed, Seq__Enumerator$Complex_Complex_(xs));
  });
  Seq__FoldIndexed$Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_ = (function (f, seed, xs)
  {
    return Seq__FoldIndexedAux$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_(f, seed, Seq__Enumerator$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(xs));
  });
  Seq__FoldIndexed$Tuple_3_Double__Double__Double__Unit_Tuple_3_Double__Double__Double__Unit_ = (function (f, seed, xs)
  {
    return Seq__FoldIndexedAux$Unit__Tuple_3_Double__Double__Double_Unit__Tuple_3_Double__Double__Double_(f, seed, Seq__Enumerator$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(xs));
  });
  Seq__FoldIndexedAux$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_ = (function (f, acc, xs)
  {
    var i = {contents: 0};
    var _acc = {contents: acc};
    while (xs.MoveNext())
    {
      _acc.contents = f(i.contents)(_acc.contents)(xs.get_Current());
      null;
      i.contents = (i.contents + 1);
      null;
    };
    return _acc.contents;
  });
  Seq__FoldIndexedAux$Int32__Complex_Int32_Complex_ = (function (f, acc, xs)
  {
    var i = {contents: 0};
    var _acc = {contents: acc};
    while (xs.MoveNext())
    {
      _acc.contents = f(i.contents)(_acc.contents)(xs.get_Current());
      null;
      i.contents = (i.contents + 1);
      null;
    };
    return _acc.contents;
  });
  Seq__FoldIndexedAux$Unit__Tuple_3_Double__Double__Double_Unit__Tuple_3_Double__Double__Double_ = (function (f, acc, xs)
  {
    var i = {contents: 0};
    var _acc = {contents: acc};
    while (xs.MoveNext())
    {
      _acc.contents = f(i.contents)(_acc.contents)(xs.get_Current());
      null;
      i.contents = (i.contents + 1);
      null;
    };
    return _acc.contents;
  });
  Seq__FromFactory$Complex_Complex_ = (function (f)
  {
    var impl;
    impl = (new CreateEnumerable_1_Complex___ctor$Complex_(f));
    return {GetEnumerator: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _1082;
        return __.factory(_1082);
      })(impl, unitVar1);
    })};
  });
  Seq__FromFactory$Int32_Int32 = (function (f)
  {
    var impl;
    impl = (new CreateEnumerable_1_Int32___ctor$Int32(f));
    return {GetEnumerator: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _143;
        return __.factory(_143);
      })(impl, unitVar1);
    })};
  });
  Seq__FromFactory$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (f)
  {
    var impl;
    impl = (new CreateEnumerable_1_Tuple_3_Double__Double__Double___ctor$Tuple_3_Double__Double__Double_(f));
    return {GetEnumerator: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _298;
        return __.factory(_298);
      })(impl, unitVar1);
    })};
  });
  Seq__IterateIndexed$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (f, xs)
  {
    var _905;
    return Seq__FoldIndexed$Tuple_3_Double__Double__Double__Unit_Tuple_3_Double__Double__Double__Unit_((function (i)
    {
      return (function (unitVar1)
      {
        return (function (x)
        {
          return f(i)(x);
        });
      });
    }), _905, xs);
  });
  Seq__Length$Complex_Complex_ = (function (xs)
  {
    return Seq__Fold$Complex__Int32_Complex__Int32((function (count)
    {
      return (function (_arg1)
      {
        return (count + 1);
      });
    }), 0, xs);
  });
  Seq__Map$Int32__Tuple_3_Double__Double__Double_Int32_Tuple_3_Double__Double__Double_ = (function (f, xs)
  {
    return (function (_f)
    {
      return Seq__Delay$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_f);
    })((function (unitVar0)
    {
      var _303;
      var _f = (function (_enum)
      {
        if (_enum.MoveNext()) 
        {
          return {Tag: 1.000000, Value: (new TupleTuple_3_Double__Double__Double__IEnumerator_1_Int32_(f(_enum.get_Current()), _enum))};
        }
        else
        {
          return {Tag: 0.000000};
        };
      });
      _303 = (function (seed)
      {
        return Seq__Unfold$IEnumerator_1_Int32__Tuple_3_Double__Double__Double_IEnumerator_1_Int32__Tuple_3_Double__Double__Double_(_f, seed);
      });
      return _303(Seq__Enumerator$Int32_Int32(xs));
    }));
  });
  Seq__OfList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (xs)
  {
    var _479;
    var f = (function (_arg1)
    {
      if ((_arg1.Tag == 1.000000)) 
      {
        var _xs = List__Tail$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_arg1);
        var x = List__Head$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(_arg1);
        return {Tag: 1.000000, Value: (new TupleTuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_(x, _xs))};
      }
      else
      {
        return {Tag: 0.000000};
      };
    });
    _479 = (function (seed)
    {
      return Seq__Unfold$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_(f, seed);
    });
    return _479(xs);
  });
  Seq__Singleton$Complex_Complex_ = (function (x)
  {
    var _1259;
    var f = (function (_arg1)
    {
      if ((_arg1.Tag == 0.000000)) 
      {
        return {Tag: 0.000000};
      }
      else
      {
        var _x = Option__GetValue$Complex_Complex_(_arg1);
        return {Tag: 1.000000, Value: (new TupleComplex__FSharpOption_1_Complex_(_x, {Tag: 0.000000}))};
      };
    });
    _1259 = (function (seed)
    {
      return Seq__Unfold$FSharpOption_1_Complex__Complex_FSharpOption_1_Complex__Complex_(f, seed);
    });
    return _1259({Tag: 1.000000, Value: x});
  });
  Seq__Take$Complex_Complex_ = (function (n, xs)
  {
    return (function (f)
    {
      return Seq__Delay$Complex_Complex_(f);
    })((function (unitVar0)
    {
      var _xs = Seq__Enumerator$Complex_Complex_(xs);
      var _1174;
      var f = (function (i)
      {
        if (((i < n) && _xs.MoveNext())) 
        {
          return {Tag: 1.000000, Value: (new TupleComplex__Int32(_xs.get_Current(), (i + 1)))};
        }
        else
        {
          return {Tag: 0.000000};
        };
      });
      _1174 = (function (seed)
      {
        return Seq__Unfold$Int32__Complex_Int32_Complex_(f, seed);
      });
      return _1174(0);
    }));
  });
  Seq__TakeWhile$Complex_Complex_ = (function (f, xs)
  {
    return (function (_f)
    {
      return Seq__Delay$Complex_Complex_(_f);
    })((function (unitVar0)
    {
      var _xs = Seq__Enumerator$Complex_Complex_(xs);
      var _1089;
      var _f = (function (_unitVar0)
      {
        if ((_xs.MoveNext() && f(_xs.get_Current()))) 
        {
          var _1097;
          var _1100;
          _1097 = (new TupleComplex__Unit_(_xs.get_Current(), _1100));
          return {Tag: 1.000000, Value: _1097};
        }
        else
        {
          return {Tag: 0.000000};
        };
      });
      _1089 = (function (seed)
      {
        return Seq__Unfold$Unit__Complex_Unit__Complex_(_f, seed);
      });
      var _1159;
      return _1089(_1159);
    }));
  });
  Seq__ToArray$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (xs)
  {
    var ys = Array__ZeroCreate$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(0);
    var _893;
    var f = (function (i)
    {
      return (function (x)
      {
        ys[i] = x;
        return null;
      });
    });
    _893 = (function (_xs)
    {
      return Seq__IterateIndexed$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(f, _xs);
    });
    _893(xs);
    return ys;
  });
  Seq__ToList$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_ = (function (xs)
  {
    return (function (list)
    {
      return List__Reverse$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(list);
    })(Seq__Fold$Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_((function (acc)
    {
      return (function (x)
      {
        return List__CreateCons$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(x, acc);
      });
    }), List__Empty$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_(), xs));
  });
  Seq__Unfold$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_ = (function (f, seed)
  {
    return Seq__FromFactory$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (unitVar0)
    {
      var impl;
      impl = (new UnfoldEnumerator_2_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double___ctor$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_(seed, f));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          return __.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var next = (function (_unitVar0)
          {
            var currAcc = Option__GetValue$FSharpList_1_Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double_(__.acc);
            var x = __.unfold(currAcc);
            if ((x.Tag == 1.000000)) 
            {
              var value = Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_2_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_(x).Items[0.000000];
              var nextAcc = Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_Tuple_2_Tuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_(x).Items[1.000000];
              __.acc = {Tag: 1.000000, Value: nextAcc};
              __.current = value;
              return true;
            }
            else
            {
              __.acc = {Tag: 0.000000};
              __.current = null;
              return false;
            };
          });
          return (Option__IsSome$FSharpList_1_Tuple_3_Double__Double__Double_FSharpList_1_Tuple_3_Double__Double__Double_(__.acc) && (function ()
          {
            var _549;
            return next(_549);
          })());
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          __.acc = {Tag: 1.000000, Value: __.seed};
          __.current = null;
        })(impl, unitVar1);
      })};
    }));
  });
  Seq__Unfold$FSharpOption_1_Complex__Complex_FSharpOption_1_Complex__Complex_ = (function (f, seed)
  {
    return Seq__FromFactory$Complex_Complex_((function (unitVar0)
    {
      var impl;
      impl = (new UnfoldEnumerator_2_FSharpOption_1_Complex__Complex___ctor$FSharpOption_1_Complex__Complex_(seed, f));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          return __.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var next = (function (_unitVar0)
          {
            var currAcc = Option__GetValue$FSharpOption_1_Complex_FSharpOption_1_Complex_(__.acc);
            var x = __.unfold(currAcc);
            if ((x.Tag == 1.000000)) 
            {
              var value = Option__GetValue$Tuple_2_Complex__FSharpOption_1_Complex_Tuple_2_Complex__FSharpOption_1_Complex_(x).Items[0.000000];
              var nextAcc = Option__GetValue$Tuple_2_Complex__FSharpOption_1_Complex_Tuple_2_Complex__FSharpOption_1_Complex_(x).Items[1.000000];
              __.acc = {Tag: 1.000000, Value: nextAcc};
              __.current = value;
              return true;
            }
            else
            {
              __.acc = {Tag: 0.000000};
              __.current = null;
              return false;
            };
          });
          return (Option__IsSome$FSharpOption_1_Complex_FSharpOption_1_Complex_(__.acc) && (function ()
          {
            var _1308;
            return next(_1308);
          })());
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          __.acc = {Tag: 1.000000, Value: __.seed};
          __.current = null;
        })(impl, unitVar1);
      })};
    }));
  });
  Seq__Unfold$IEnumerator_1_Int32__Tuple_3_Double__Double__Double_IEnumerator_1_Int32__Tuple_3_Double__Double__Double_ = (function (f, seed)
  {
    return Seq__FromFactory$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (unitVar0)
    {
      var impl;
      impl = (new UnfoldEnumerator_2_IEnumerator_1_Int32__Tuple_3_Double__Double__Double___ctor$IEnumerator_1_Int32__Tuple_3_Double__Double__Double_(seed, f));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          return __.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var next = (function (_unitVar0)
          {
            var currAcc = Option__GetValue$IEnumerator_1_Int32_IEnumerator_1_Int32_(__.acc);
            var x = __.unfold(currAcc);
            if ((x.Tag == 1.000000)) 
            {
              var value = Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__IEnumerator_1_Int32_Tuple_2_Tuple_3_Double__Double__Double__IEnumerator_1_Int32_(x).Items[0.000000];
              var nextAcc = Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__IEnumerator_1_Int32_Tuple_2_Tuple_3_Double__Double__Double__IEnumerator_1_Int32_(x).Items[1.000000];
              __.acc = {Tag: 1.000000, Value: nextAcc};
              __.current = value;
              return true;
            }
            else
            {
              __.acc = {Tag: 0.000000};
              __.current = null;
              return false;
            };
          });
          return (Option__IsSome$IEnumerator_1_Int32_IEnumerator_1_Int32_(__.acc) && (function ()
          {
            var _352;
            return next(_352);
          })());
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          __.acc = {Tag: 1.000000, Value: __.seed};
          __.current = null;
        })(impl, unitVar1);
      })};
    }));
  });
  Seq__Unfold$Int32__Complex_Int32_Complex_ = (function (f, seed)
  {
    return Seq__FromFactory$Complex_Complex_((function (unitVar0)
    {
      var impl;
      impl = (new UnfoldEnumerator_2_Int32__Complex___ctor$Int32_Complex_(seed, f));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          return __.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var next = (function (_unitVar0)
          {
            var currAcc = Option__GetValue$Int32_Int32(__.acc);
            var x = __.unfold(currAcc);
            if ((x.Tag == 1.000000)) 
            {
              var value = Option__GetValue$Tuple_2_Complex__Int32_Tuple_2_Complex__Int32_(x).Items[0.000000];
              var nextAcc = Option__GetValue$Tuple_2_Complex__Int32_Tuple_2_Complex__Int32_(x).Items[1.000000];
              __.acc = {Tag: 1.000000, Value: nextAcc};
              __.current = value;
              return true;
            }
            else
            {
              __.acc = {Tag: 0.000000};
              __.current = null;
              return false;
            };
          });
          return (Option__IsSome$Int32_Int32(__.acc) && (function ()
          {
            var _1224;
            return next(_1224);
          })());
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          __.acc = {Tag: 1.000000, Value: __.seed};
          __.current = null;
        })(impl, unitVar1);
      })};
    }));
  });
  Seq__Unfold$Int32__Int32_Int32_Int32 = (function (f, seed)
  {
    return Seq__FromFactory$Int32_Int32((function (unitVar0)
    {
      var impl;
      impl = (new UnfoldEnumerator_2_Int32__Int32___ctor$Int32_Int32(seed, f));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          return __.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var next = (function (_unitVar0)
          {
            var currAcc = Option__GetValue$Int32_Int32(__.acc);
            var x = __.unfold(currAcc);
            if ((x.Tag == 1.000000)) 
            {
              var value = Option__GetValue$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(x).Items[0.000000];
              var nextAcc = Option__GetValue$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(x).Items[1.000000];
              __.acc = {Tag: 1.000000, Value: nextAcc};
              __.current = value;
              return true;
            }
            else
            {
              __.acc = {Tag: 0.000000};
              __.current = null;
              return false;
            };
          });
          return (Option__IsSome$Int32_Int32(__.acc) && (function ()
          {
            var _122;
            return next(_122);
          })());
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          __.acc = {Tag: 1.000000, Value: __.seed};
          __.current = null;
        })(impl, unitVar1);
      })};
    }));
  });
  Seq__Unfold$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_ = (function (f, seed)
  {
    return Seq__FromFactory$Complex_Complex_((function (unitVar0)
    {
      var impl;
      impl = (new UnfoldEnumerator_2_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex___ctor$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_(seed, f));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          return __.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var next = (function (_unitVar0)
          {
            var currAcc = Option__GetValue$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_(__.acc);
            var x = __.unfold(currAcc);
            if ((x.Tag == 1.000000)) 
            {
              var value = Option__GetValue$Tuple_2_Complex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Complex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_(x).Items[0.000000];
              var nextAcc = Option__GetValue$Tuple_2_Complex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Complex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_(x).Items[1.000000];
              __.acc = {Tag: 1.000000, Value: nextAcc};
              __.current = value;
              return true;
            }
            else
            {
              __.acc = {Tag: 0.000000};
              __.current = null;
              return false;
            };
          });
          return (Option__IsSome$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_(__.acc) && (function ()
          {
            var _1489;
            return next(_1489);
          })());
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          __.acc = {Tag: 1.000000, Value: __.seed};
          __.current = null;
        })(impl, unitVar1);
      })};
    }));
  });
  Seq__Unfold$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_ = (function (f, seed)
  {
    return Seq__FromFactory$Tuple_3_Double__Double__Double_Tuple_3_Double__Double__Double_((function (unitVar0)
    {
      var impl;
      impl = (new UnfoldEnumerator_2_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double___ctor$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_(seed, f));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          return __.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var next = (function (_unitVar0)
          {
            var currAcc = Option__GetValue$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_(__.acc);
            var x = __.unfold(currAcc);
            if ((x.Tag == 1.000000)) 
            {
              var value = Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Tuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_(x).Items[0.000000];
              var nextAcc = Option__GetValue$Tuple_2_Tuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Tuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_(x).Items[1.000000];
              __.acc = {Tag: 1.000000, Value: nextAcc};
              __.current = value;
              return true;
            }
            else
            {
              __.acc = {Tag: 0.000000};
              __.current = null;
              return false;
            };
          });
          return (Option__IsSome$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_(__.acc) && (function ()
          {
            var _871;
            return next(_871);
          })());
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          __.acc = {Tag: 1.000000, Value: __.seed};
          __.current = null;
        })(impl, unitVar1);
      })};
    }));
  });
  Seq__Unfold$Unit__Complex_Unit__Complex_ = (function (f, seed)
  {
    return Seq__FromFactory$Complex_Complex_((function (unitVar0)
    {
      var impl;
      impl = (new UnfoldEnumerator_2_Unit__Complex___ctor$Unit__Complex_(seed, f));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          return __.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var next = (function (_unitVar0)
          {
            var currAcc = Option__GetValue$Unit_Unit_(__.acc);
            var x = __.unfold(currAcc);
            if ((x.Tag == 1.000000)) 
            {
              var value = Option__GetValue$Tuple_2_Complex__Unit_Tuple_2_Complex__Unit_(x).Items[0.000000];
              var nextAcc = Option__GetValue$Tuple_2_Complex__Unit_Tuple_2_Complex__Unit_(x).Items[1.000000];
              __.acc = {Tag: 1.000000, Value: nextAcc};
              __.current = value;
              return true;
            }
            else
            {
              __.acc = {Tag: 0.000000};
              __.current = null;
              return false;
            };
          });
          return (Option__IsSome$Unit_Unit_(__.acc) && (function ()
          {
            var _1140;
            return next(_1140);
          })());
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          __.acc = {Tag: 1.000000, Value: __.seed};
          __.current = null;
        })(impl, unitVar1);
      })};
    }));
  });
  TupleComplex__FSharpOption_1_Complex_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleComplex__FSharpOption_1_Complex_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleComplex__Int32 = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleComplex__Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleComplex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleComplex__Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleComplex__Unit_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleComplex__Unit_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleDouble_Double = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleDouble_Double.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleDouble_Double_Double = (function (Item0, Item1, Item2)
  {
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
  });
  TupleDouble_Double_Double.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = ((this.Items[2.000000] < that.Items[2.000000]) ? -1.000000 : ((this.Items[2.000000] == that.Items[2.000000]) ? 0.000000 : 1.000000));
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  TupleFSharpFunc_2_Unit__Unit__FSharpFunc_2_Exception__Unit__FSharpFunc_2_String__Unit_ = (function (Item0, Item1, Item2)
  {
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
  });
  TupleFSharpFunc_2_Unit__Unit__FSharpFunc_2_Exception__Unit__FSharpFunc_2_String__Unit_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = this.Items[2.000000].CompareTo(that.Items[2.000000]);
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  TupleInt32_Int32 = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleInt32_Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleInt32_Int32_Int32 = (function (Item0, Item1, Item2)
  {
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
  });
  TupleInt32_Int32_Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = ((this.Items[2.000000] < that.Items[2.000000]) ? -1.000000 : ((this.Items[2.000000] == that.Items[2.000000]) ? 0.000000 : 1.000000));
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  TupleLazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleLazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleLazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleLazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_3_Double__Double__Double__FSharpList_1_Tuple_3_Double__Double__Double_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_3_Double__Double__Double__IEnumerator_1_Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_3_Double__Double__Double__IEnumerator_1_Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_3_Double__Double__Double__Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_3_Int32__Int32__Int32__Int32 = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_3_Int32__Int32__Int32__Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  UnfoldEnumerator_2_FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double___ctor$FSharpList_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_ = (function (seed, unfold)
  {
    this.seed = seed;
    this.unfold = unfold;
    this.acc = {Tag: 1.000000, Value: this.seed};
    this.current = null;
  });
  UnfoldEnumerator_2_FSharpOption_1_Complex__Complex___ctor$FSharpOption_1_Complex__Complex_ = (function (seed, unfold)
  {
    this.seed = seed;
    this.unfold = unfold;
    this.acc = {Tag: 1.000000, Value: this.seed};
    this.current = null;
  });
  UnfoldEnumerator_2_IEnumerator_1_Int32__Tuple_3_Double__Double__Double___ctor$IEnumerator_1_Int32__Tuple_3_Double__Double__Double_ = (function (seed, unfold)
  {
    this.seed = seed;
    this.unfold = unfold;
    this.acc = {Tag: 1.000000, Value: this.seed};
    this.current = null;
  });
  UnfoldEnumerator_2_Int32__Complex___ctor$Int32_Complex_ = (function (seed, unfold)
  {
    this.seed = seed;
    this.unfold = unfold;
    this.acc = {Tag: 1.000000, Value: this.seed};
    this.current = null;
  });
  UnfoldEnumerator_2_Int32__Int32___ctor$Int32_Int32 = (function (seed, unfold)
  {
    this.seed = seed;
    this.unfold = unfold;
    this.acc = {Tag: 1.000000, Value: this.seed};
    this.current = null;
  });
  UnfoldEnumerator_2_Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex___ctor$Tuple_2_Lazy_1_IEnumerator_1_Complex__Lazy_1_IEnumerator_1_Complex__Complex_ = (function (seed, unfold)
  {
    this.seed = seed;
    this.unfold = unfold;
    this.acc = {Tag: 1.000000, Value: this.seed};
    this.current = null;
  });
  UnfoldEnumerator_2_Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double___ctor$Tuple_2_Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Lazy_1_IEnumerator_1_Tuple_3_Double__Double__Double__Tuple_3_Double__Double__Double_ = (function (seed, unfold)
  {
    this.seed = seed;
    this.unfold = unfold;
    this.acc = {Tag: 1.000000, Value: this.seed};
    this.current = null;
  });
  UnfoldEnumerator_2_Unit__Complex___ctor$Unit__Complex_ = (function (seed, unfold)
  {
    this.seed = seed;
    this.unfold = unfold;
    this.acc = {Tag: 1.000000, Value: this.seed};
    this.current = null;
  });
  list_1_Tuple_3_Double__Double__Double__ConsTuple_3_Double__Double__Double_ = (function (Item1, Item2)
  {
    this.Tag = 1.000000;
    this._CaseName = "Cons";
    this.Item1 = Item1;
    this.Item2 = Item2;
  });
  list_1_Tuple_3_Double__Double__Double__ConsTuple_3_Double__Double__Double_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Item1.CompareTo(that.Item1);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = this.Item2.CompareTo(that.Item2);
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  list_1_Tuple_3_Double__Double__Double__NilTuple_3_Double__Double__Double_ = (function ()
  {
    this.Tag = 0.000000;
    this._CaseName = "Nil";
  });
  list_1_Tuple_3_Double__Double__Double__NilTuple_3_Double__Double__Double_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      return 0.000000;
    };
  });
  Program__width = Program__get_width$();
  Program__height = Program__get_height$();
  Program__w = Program__get_w$();
  Program__h = Program__get_h$();
  Program__palette = Program__get_palette$();
  Program__c = Program__get_c$();
  return Program__main$()
});
  </script>

</body>
</html>
